function stikyFooter(){$(".page").height()<window.screen.availHeight-$(".div-footer").height()-56?!$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").addClass("div-footer-fixed"):$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").removeClass("div-footer-fixed")}var mibo=mibo||{};mibo.config=mibo.config||{API:$("#api").val()||"",TOKEN:$("#token").val()||"",loading:{id:"#loading_panel"}},mibo.promiseq=mibo.promiseq||{},mibo.util=mibo.util||{loading:{show:function(){$(mibo.config.loading.id).show()},hide:function(){$(mibo.config.loading.id).hide()}},http:{post:function(e,t,n){return $.ajax({url:e,type:"post",data:t,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",headers:n||{}})}},system:{error:function(e){var e=e||"You seems to meet up a system error. It is appreciated if you can send an email to us via: rhinostudio2017@gmail.com";alert(e)}},format:{number2kview:function(e){var t=e+"",n=t.length;if(n<=3)return e;var o,i="",r=3;for(i=","+t.slice(-r);r<n;)o=-r,(r+=3)>n&&(r=n),i=","+t.slice(-r,o)+i;return i=i.slice(1)}},pager:function(){return new function(){var e=1,t=1,n=0,o=10;this.setPage=function(t){e=t},this.getPage=function(){return e},this.setTotalPage=function(e){t=e},this.getTotalPage=function(){return t},this.increasePage=function(){e<t&&e++},this.decreasePage=function(){e>1&&e--},this.isFirstPage=function(){return 1==e},this.isLastPage=function(){return e==t},this.setItemCount=function(e){o=e},this.getItemCount=function(){return o},this.setTotalItem=function(e){n=e,this.setTotalPage(Math.floor(n/o)+1)},this.getItemStart=function(){return(e-1)*o}}},form:{post:function(e,t){var n=document.createElement("form");n.target="_blank",n.method="POST",n.action=e,n.style.display="none";for(var o in t){var i=document.createElement("input");i.type="text",i.name=o,i.value=t[o],n.appendChild(i)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}},mibo.modal=mibo.modal||{resource:{videoLink:{length:function(){return 128}},posterLink:{length:function(){return 64}},name:{length:function(){return 128}},description:{length:function(){return 256}},author:{length:function(){return 32}},venue:{length:function(){return 64}},note:{length:function(){return 128}}},user:{username:{length:function(){return 64}},password:{length:function(){return 64}},email:{length:function(){return 64}}}},$(window).bind("load",stikyFooter),$("#form_search").submit(function(e){e.preventDefault();var t=$("#page").val();if("admin"==t)"function"==typeof admin_fetchResources&&admin_fetchResources();else if("search"==t)$("#keyword").val($("#search_text").val()),"object"==typeof pager&&pager.setPage(1),"function"==typeof search_searchResources&&search_searchResources();else{var n={};n.keyword=keyword,mibo.util.form.post("/search",n)}});
function admin_formAttachEvent(){$("#form_login").submit(function(e){e.preventDefault();var o=admin_formValidate();if(!0===o){mibo.util.loading.show();var a=a||{};a.token=a.token||mibo.config.TOKEN,a.username=$("#username").val(),a.password=$("#password").val();var i=mibo.util.http.post(mibo.config.API+"user/login",a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return $("#username, #password").addClass("color-error"),mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}else mibo.util.system.error(o)}),$("#username, #password").focus(function(e){$("#username").hasClass("color-error")&&$("#username").removeClass("color-error"),$("#password").hasClass("color-error")&&$("#password").removeClass("color-error")})}function admin_formValidate(){var e=$("#username").val(),o=$("#password").val();if(""==e.trim()||e.trim().length>mibo.modal.user.username.length())return $("#username").addClass("color-error"),"Username cannot be empty, and the length must less than "+mibo.modal.user.username.length()+".";if(""==o.trim()||o.trim().length>mibo.modal.user.password.length())return $("#password").addClass("color-error"),"Password cannot be empty, and the length must less than "+mibo.modal.user.password.length()+".";var a=/[a-zA-Z0-9_]+/;return a.test(e)?!!a.test(o)||($("#password").addClass("color-error"),"Password must only contain characters, numbers and underscore."):($("#username").addClass("color-error"),"Username must only contain characters, numbers and underscore.")}function admin_fetchResources(){mibo.util.loading.show();var e=e||{};e.token=e.token||mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount();var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var i,t=$("#tbody_resource").empty();for(var s in e.response.data.rows)(i=[]).push('<tr id="',e.response.data.rows[s].id,'">'),i.push("<td>"),i.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[s].poster_link),'">'),i.push("</td>"),i.push("<td>",e.response.data.rows[s].description,"</td>"),i.push("<td>",e.response.data.rows[s].produce_time,"</td>"),i.push("<td>"),i.push('<button class="btn btn-sm btn-primary" style="display: inline-block;" fire="edit">'),i.push('<i class="fa fa-remove" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Edit</span>'),i.push("</button>"),i.push('<button class="btn btn-sm btn-danger right" style="display: inline-block;" fire="delete">'),i.push('<i class="fa fa-pencil" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Delete</span>'),i.push("</button>"),i.push("</td>"),i.push("</tr>"),$(i.join("")).data(e.response.data.rows[s]).appendTo(t);admin_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function admin_attachResourceEvent(){$("#tbody_resource tr").each(function(){var e=$(this);e.find("button").each(function(){var o=$(this);o.click(function(a){if("edit"==o.attr("fire")){console.log("edit.."),$("#resource_dialog").modal({backdrop:"static",show:!1});var i=e.data();$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"edit",label:"Edit",data:{id:i.id,videoLink:decodeURIComponent(i.video_link),posterLink:decodeURIComponent(i.poster_link),name:i.name,description:i.description,author:i.author,produceTime:i.produce_time,runTime:i.run_time,views:i.views,venue:i.venue}}),modalInit(),$("#resource_dialog").modal("show")}else if("delete"==o.attr("fire")){showConfirmDialog("Are you sure to delete?",function(){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.id=e.data().id;var a=mibo.util.http.post(mibo.config.API+"resource/remove",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status?admin_fetchResources():mibo.util.system.error(e.response.message)}).fail(function(){mibo.util.system.error()})})}})})})}function admin_attachEvent(){$("#link_logout").click(function(e){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN;var a=mibo.util.http.post(mibo.config.API+"user/logout",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),"success"!=e.response.status&&(mibo.util.loading.hide(),mibo.util.system.error()),mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}),$("#resource_add").click(function(e){$("#resource_dialog").modal({backdrop:"static",show:!1}),$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"add",label:"Add"}),modalInit(),$("#resource_dialog").modal("show")}),$("#resource_dialog input").focus(function(e){$("#modal-error").hide()}),$("#modal_save").click(modalSubmit),$("#modal_check").click(modalCheckVideo),$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),admin_fetchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),admin_fetchResources())}),$("#page_go").click(function(e){var o=~~$("#page_number").val();0==o||o>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(o),admin_fetchResources())})}function modalInit(){var e=$("#resource_dialog").data();$("#resource_dialog .modal-title").html(e.label),"add"==e.mode?$("#resource_dialog input").val(""):"edit"==e.mode&&[{key:"videoLink",label:"ipt_v_url"},{key:"posterLink",label:"ipt_i_url"},{key:"name",label:"ipt_name"},{key:"description",label:"ipt_description"},{key:"author",label:"ipt_author"},{key:"venue",label:"ipt_venue"}].forEach(function(o){e.data[o.key]&&$("#"+o.label).val(e.data[o.key])})}function modalSubmit(){var e=modalValidate();if(!0===e){$("#resource_dialog").modal("hide"),showConfirmDialog("Are you sure to save?",function(){var e,o=$("#resource_dialog").data("mode"),a=$("#resource_dialog").data("data")||{};"add"==o?e=mibo.config.API+"resource/add":"edit"==o&&(e=mibo.config.API+"resource/edit"),mibo.util.loading.show(),a.token=a.token||mibo.config.TOKEN,a.videoLink=encodeURIComponent($("#ipt_v_url").val().trim()),a.posterLink=encodeURIComponent($("#ipt_i_url").val().trim()),a.name=$("#ipt_name").val().trim(),a.description=$("#ipt_description").val().trim(),a.author=$("#ipt_author").val().trim(),a.produceTime=$("#ipt_produceTime").val().trim(),a.runTime=$("#ipt_runTime").val().trim(),a.views=$("#ipt_views").val().trim(),a.venue=$("#ipt_venue").val().trim();var i=mibo.util.http.post(e,a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void $("#modal-error").show().find("label").html(e.response.message);mibo.util.loading.hide(),$("#resource_dialog").modal("hide"),admin_fetchResources()}).fail(function(){mibo.util.system.error()})},function(){$("#resource_dialog").modal({backdrop:"static"})})}else $("#modal-error").show().find("label").html(e)}function modalValidate(){var e=$("#ipt_v_url").val(),o=$("#ipt_i_url").val(),a=$("#ipt_name").val();return""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length()?"Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".":""==o.trim()||o.trim().length>mibo.modal.resource.posterLink.length()?"Poster URL cannot be empty, and the length must less than "+mibo.modal.resource.posterLink.length()+".":!(""==a.trim()||a.trim().length>mibo.modal.resource.name.length())||"Video name cannot be empty, and the length must less than "+mibo.modal.resource.name.length()+"."}function modalCheckVideo(){var e=$("#ipt_v_url").val();if(""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length())mibo.util.system.error("Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".");else{mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.videoLink=$("#ipt_v_url").val();var a=mibo.util.http.post(mibo.config.API+"resource/exist",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){if(console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status){var i=e.response.data.exist?"The video URL has existed, please try another one.":'<span class="text-success">The video URL do NOT exist, can continue to add.</span>';$("#modal-error").show().find("label").html(i)}else $("#modal-error").show().find("label").html(e.response.message)}).fail(function(){mibo.util.system.error()})}}function showConfirmDialog(e,o,a){$("#confirm_dialog").modal({backdrop:"static",show:!1}),$("#confirm_dialog .modal-body label").html(e),$("#confirm_yes").click(function(e){$("#confirm_dialog").modal("hide"),$("#modal-error").hide(),o&&o()}),$("#confirm_no").click(function(e){$("#confirm_dialog").modal("hide"),a&&a()}),$("#confirm_dialog").on("hide.bs.modal",function(e){$("#confirm_yes").off(),$("#confirm_no").off()}).modal("show")}$(function(){if("admin"!=$("#page").val())return!1;0!=$("#form_login").length?admin_formAttachEvent():(admin_attachEvent(),admin_fetchResources())});var pager=mibo.util.pager();
function home_searchResources(o,t){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=o.offset||0,e.limit=o.limit||10,e.keyword=o.keyword||null,e.order=o.order||null;var s=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=s,s.done(function(o,e,s){if(console.log("data",o),"success"!=o.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(o.response.message);var r,i=$("#"+t).empty();if(0==o.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(i),stikyFooter(),void mibo.util.loading.hide();for(var a in o.response.data.rows)(r=[]).push('<tr id="',o.response.data.rows[a].id,'">'),r.push('<td class="tbl-col-img">'),r.push('<img class="img-icon" src="',decodeURIComponent(o.response.data.rows[a].poster_link),'">'),r.push("</td>"),r.push('<td class="tbl-col-author">'),r.push('<p class="td-row">',o.response.data.rows[a].name,"</p>"),r.push('<p class="td-row">',o.response.data.rows[a].author,"</p>"),r.push("</td>"),r.push('<td class="tbl-col-time">'),r.push('<p class="td-row">',o.response.data.rows[a].produce_time,"</p>"),r.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(o.response.data.rows[a].views),"</p>"),r.push("</td>"),r.push("<td>",o.response.data.rows[a].description,"</td>"),r.push("</tr>"),$(r.join("")).data(o.response.data.rows[a]).appendTo(i);home_attachResourceEvent(),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function home_attachResourceEvent(){$("#h_n_tbody tr, #h_t_tbody tr").click(function(o){o.preventDefault();var t=$(this).data();mibo.util.form.post("/play",t)})}function home_attachEvent(){$("#btn_more_new_pc, #btn_more_new_mb, #btn_more_top_pc, #btn_more_top_mb").click(function(o){var t={};"top"==$(this).attr("type")&&(t.order="views"),mibo.util.form.post("/search",t)})}$(function(){if("home"!=$("#page").val())return!1;home_attachEvent(),home_searchResources({},"h_n_tbody"),home_searchResources({order:"views"},"h_t_tbody")});
function search_searchResources(){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount();var a=$("#startTime").val(),s=$("#endTime").val(),t=$("#keyword").val(),r=$("#order").val();a&&(e.startTime=a),s&&(e.endTime=s),t&&(e.keyword=t),r&&(e.order=r);var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,a,s){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var t,r=$("#result_tbody").empty();if(0==e.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(r),stikyFooter(),void mibo.util.loading.hide();for(var o in e.response.data.rows)(t=[]).push('<tr id="',e.response.data.rows[o].id,'">'),t.push('<td class="tbl-col-img">'),t.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[o].poster_link),'">'),t.push("</td>"),t.push('<td class="tbl-col-author">'),t.push('<p class="td-row">',e.response.data.rows[o].name,"</p>"),t.push('<p class="td-row">',e.response.data.rows[o].author,"</p>"),t.push("</td>"),t.push('<td class="tbl-col-time">'),t.push('<p class="td-row">',e.response.data.rows[o].produce_time,"</p>"),t.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(e.response.data.rows[o].views),"</p>"),t.push("</td>"),t.push("<td>",e.response.data.rows[o].description,"</td>"),t.push("</tr>"),$(t.join("")).data(e.response.data.rows[o]).appendTo(r);search_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function search_attachResourceEvent(){$("#result_tbody tr").click(function(e){e.preventDefault();var a=$(this).data();mibo.util.form.post("/play",a)})}function search_attachEvent(){$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),search_searchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),search_searchResources())}),$("#page_go").click(function(e){var a=~~$("#page_number").val();0==a||a>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(a),search_searchResources())})}$(function(){if("search"!=$("#page").val())return!1;search_attachEvent(),search_searchResources()});var pager=mibo.util.pager();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImFkbWluLmpzIiwiaG9tZS5qcyIsInNlYXJjaC5qcyJdLCJuYW1lcyI6WyJzdGlreUZvb3RlciIsIiQiLCJoZWlnaHQiLCJ3aW5kb3ciLCJzY3JlZW4iLCJhdmFpbEhlaWdodCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1pYm8iLCJjb25maWciLCJBUEkiLCJ2YWwiLCJUT0tFTiIsImxvYWRpbmciLCJpZCIsInByb21pc2VxIiwidXRpbCIsInNob3ciLCJoaWRlIiwiaHR0cCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwiaGVhZGVyT3B0aW9ucyIsImFqYXgiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImhlYWRlcnMiLCJzeXN0ZW0iLCJlcnJvciIsIm1zZyIsImFsZXJ0IiwiZm9ybWF0IiwibnVtYmVyMmt2aWV3IiwibnVtYmVyIiwic3RyTnVtYmVyIiwic3RyTGVuZ3RoIiwibGVuZ3RoIiwiZW5kIiwic3RyVmlldyIsInN0YXJ0Iiwic2xpY2UiLCJwYWdlciIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlIiwidG90YWxJdGVtIiwiaXRlbUNvdW50IiwidGhpcyIsInNldFBhZ2UiLCJwYWdlIiwiZ2V0UGFnZSIsInNldFRvdGFsUGFnZSIsInBhZ2VDb3VudCIsImdldFRvdGFsUGFnZSIsImluY3JlYXNlUGFnZSIsImRlY3JlYXNlUGFnZSIsImlzRmlyc3RQYWdlIiwiaXNMYXN0UGFnZSIsInNldEl0ZW1Db3VudCIsImNvdW50IiwiZ2V0SXRlbUNvdW50Iiwic2V0VG90YWxJdGVtIiwiaXRlbU51bWJlciIsIk1hdGgiLCJmbG9vciIsImdldEl0ZW1TdGFydCIsImZvcm0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0YXJnZXQiLCJtZXRob2QiLCJhY3Rpb24iLCJzdHlsZSIsImRpc3BsYXkiLCJrZXkiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwiYm9keSIsInN1Ym1pdCIsInJlbW92ZUNoaWxkIiwibW9kYWwiLCJyZXNvdXJjZSIsInZpZGVvTGluayIsInBvc3RlckxpbmsiLCJkZXNjcmlwdGlvbiIsImF1dGhvciIsInZlbnVlIiwibm90ZSIsInVzZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZW1haWwiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWRtaW5fZmV0Y2hSZXNvdXJjZXMiLCJzZWFyY2hfc2VhcmNoUmVzb3VyY2VzIiwia2V5d29yZCIsImFkbWluX2Zvcm1BdHRhY2hFdmVudCIsInZhbGlkYXRlIiwiYWRtaW5fZm9ybVZhbGlkYXRlIiwidG9rZW4iLCJhanAiLCJhZG1pbl91c2VyX2xvZ2luIiwiZG9uZSIsInN0YXR1cyIsImFqWGhyIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwibWVzc2FnZSIsImxvY2F0aW9uIiwiaHJlZiIsImZhaWwiLCJmb2N1cyIsInRyaW0iLCJyZWdleHAiLCJ0ZXN0Iiwib2Zmc2V0IiwibGltaXQiLCJhZG1pbl9yZXNvdXJjZV9mZXRjaCIsImh0bWwiLCJyZXNvdXJjZVRCb2R5IiwiZW1wdHkiLCJwIiwicm93cyIsInB1c2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYXBwZW5kVG8iLCJhZG1pbl9hdHRhY2hSZXNvdXJjZUV2ZW50IiwidG90YWxSb3dDb3VudCIsImVhY2giLCIkdHIiLCJmaW5kIiwiJGJ1dHRvbiIsImNsaWNrIiwiYXR0ciIsImJhY2tkcm9wIiwiZWRpdERhdGEiLCJyZW1vdmVEYXRhIiwibW9kZSIsImxhYmVsIiwidmlkZW9fbGluayIsInBvc3Rlcl9saW5rIiwicHJvZHVjZVRpbWUiLCJwcm9kdWNlX3RpbWUiLCJydW5UaW1lIiwicnVuX3RpbWUiLCJ2aWV3cyIsIm1vZGFsSW5pdCIsInNob3dDb25maXJtRGlhbG9nIiwiYWRtaW5fYXR0YWNoRXZlbnQiLCJtb2RhbFN1Ym1pdCIsIm1vZGFsQ2hlY2tWaWRlbyIsInBhZ2VOdW1iZXIiLCJmb3JFYWNoIiwib2JqZWN0IiwibW9kYWxWYWxpZGF0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInZpZGVvIiwiaW1hZ2UiLCJleGlzdCIsImNiWWVzIiwiY2JObyIsIm9uIiwib2ZmIiwiaG9tZV9zZWFyY2hSZXNvdXJjZXMiLCJjcml0ZXJpYSIsImNvbnRhaW5lcklkIiwib3JkZXIiLCJob21lX2F0dGFjaFJlc291cmNlRXZlbnQiLCJob21lX2F0dGFjaEV2ZW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInNlYXJjaF9hdHRhY2hSZXNvdXJjZUV2ZW50Iiwic2VhcmNoX2F0dGFjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUErTUEsU0FBU0EsY0FDREMsRUFBRSxTQUFTQyxTQUFXQyxPQUFPQyxPQUFPQyxZQUFjSixFQUFFLGVBQWVDLFNBQVcsSUFDN0VELEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU0sU0FBUyxvQkFFNUVOLEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU8sWUFBWSxvQkFoTnRGLElBQUlDLEtBQU9BLFNBR1hBLEtBQUtDLE9BQVNELEtBQUtDLFNBQ1hDLElBQU9WLEVBQUUsUUFBUVcsT0FBUyxHQUMxQkMsTUFBU1osRUFBRSxVQUFVVyxPQUFTLEdBQzlCRSxTQUNJQyxHQUFNLG1CQUtsQk4sS0FBS08sU0FBV1AsS0FBS08sYUFHckJQLEtBQUtRLEtBQU9SLEtBQUtRLE9BQ1RILFNBQ0lJLEtBQVEsV0FDSmpCLEVBQUVRLEtBQUtDLE9BQU9JLFFBQVFDLElBQUlHLFFBRTlCQyxLQUFRLFdBQ0psQixFQUFFUSxLQUFLQyxPQUFPSSxRQUFRQyxJQUFJSSxTQUdsQ0MsTUFDSUMsS0FBUSxTQUFVQyxFQUFLQyxFQUFNQyxHQUN6QixPQUFPdkIsRUFBRXdCLE1BQ0xILElBQUtBLEVBQ0xJLEtBQU0sT0FDTkgsS0FBTUEsRUFDTkksWUFBYSxtREFDYkMsU0FBVSxPQUNWQyxRQUFTTCxVQUlyQk0sUUFDSUMsTUFBUyxTQUFVQyxHQUNmLElBQUlBLEVBQU1BLEdBQU8sdUhBQ2pCQyxNQUFNRCxLQUdkRSxR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Q2EsTUFBTVcsaUJBR2hGWCxNQUFNTSxRQUFRNkcsR0FDZDNELDRCQXBIUm5HLEVBQUUsV0FDRSxHQUF3QixVQUFwQkEsRUFBRSxTQUFTVyxNQUNYLE9BQU8sRUFHWHdLLHFCQUNBaEYsMkJBTUosSUFBSXhELE1BQVFuQyxLQUFLUSxLQUFLMkIiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEdsb2JhbCBzZXR0aW5nc1xyXG4gKiAqL1xyXG52YXIgbWlibyA9IG1pYm8gfHwge307XHJcblxyXG4vLyBDb25maWdcclxubWliby5jb25maWcgPSBtaWJvLmNvbmZpZyB8fCB7XHJcbiAgICAgICAgJ0FQSSc6ICQoJyNhcGknKS52YWwoKSB8fCAnJyxcclxuICAgICAgICAnVE9LRU4nOiAkKCcjdG9rZW4nKS52YWwoKSB8fCAnJyxcclxuICAgICAgICAnbG9hZGluZyc6IHtcclxuICAgICAgICAgICAgJ2lkJzogJyNsb2FkaW5nX3BhbmVsJ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBQcm9taXNlIHF1ZXVlXHJcbm1pYm8ucHJvbWlzZXEgPSBtaWJvLnByb21pc2VxIHx8IHt9O1xyXG5cclxuLy8gVXRpbFxyXG5taWJvLnV0aWwgPSBtaWJvLnV0aWwgfHwge1xyXG4gICAgICAgICdsb2FkaW5nJzoge1xyXG4gICAgICAgICAgICAnc2hvdyc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQobWliby5jb25maWcubG9hZGluZy5pZCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaGlkZSc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQobWliby5jb25maWcubG9hZGluZy5pZCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAnaHR0cCc6IHtcclxuICAgICAgICAgICAgJ3Bvc3QnOiBmdW5jdGlvbiAodXJsLCBkYXRhLCBoZWFkZXJPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJPcHRpb25zIHx8IHt9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N5c3RlbSc6IHtcclxuICAgICAgICAgICAgJ2Vycm9yJzogZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IG1zZyB8fCAnWW91IHNlZW1zIHRvIG1lZXQgdXAgYSBzeXN0ZW0gZXJyb3IuIEl0IGlzIGFwcHJlY2lhdGVkIGlmIHlvdSBjYW4gc2VuZCBhbiBlbWFpbCB0byB1cyB2aWE6IHJoaW5vc3R1ZGlvMjAxN0BnbWFpbC5jb20nO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQobXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2Zvcm1hdCc6IHtcclxuICAgICAgICAgICAgJ251bWJlcjJrdmlldyc6IGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJOdW1iZXIgPSBudW1iZXIgKyAnJywgc3RyTGVuZ3RoID0gc3RyTnVtYmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJMZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmlldyA9ICcnLCBzdGFydCA9IDMsIGVuZDtcclxuICAgICAgICAgICAgICAgIHN0clZpZXcgPSAnLCcgKyBzdHJOdW1iZXIuc2xpY2UoLXN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydCA8IHN0ckxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IC1zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCArPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA+IHN0ckxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN0ckxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyVmlldyA9ICcsJyArIHN0ck51bWJlci5zbGljZSgtc3RhcnQsIGVuZCkgKyBzdHJWaWV3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RyVmlldyA9IHN0clZpZXcuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3BhZ2VyJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBQYWdlcigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IDEsIHRvdGFsUGFnZSA9IDEsIHRvdGFsSXRlbSA9IDAsIGl0ZW1Db3VudCA9IDEwLCBpdGVtU3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvdGFsUGFnZSA9IGZ1bmN0aW9uIChwYWdlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2UgPSBwYWdlQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGFnZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA8IHRvdGFsUGFnZSAmJiBjdXJyZW50UGFnZSsrO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVhc2VQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID4gMSAmJiBjdXJyZW50UGFnZS0tO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlID09IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGFzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlID09IHRvdGFsUGFnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXRlbUNvdW50ID0gZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvdW50ID0gY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEl0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb3RhbEl0ZW0gPSBmdW5jdGlvbiAoaXRlbU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSXRlbSA9IGl0ZW1OdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUb3RhbFBhZ2UoTWF0aC5mbG9vcih0b3RhbEl0ZW0gLyBpdGVtQ291bnQpICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEl0ZW1TdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGN1cnJlbnRQYWdlIC0gMSkgKiBpdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFnZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgICdmb3JtJzoge1xyXG4gICAgICAgICAgICAncG9zdCc6IGZ1bmN0aW9uICh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgZm9ybS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGZvcm0ubWV0aG9kID0gJ1BPU1QnO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5hY3Rpb24gPSB1cmw7XHJcbiAgICAgICAgICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQubmFtZSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxubWliby5tb2RhbCA9IG1pYm8ubW9kYWwgfHwge1xyXG4gICAgICAgICdyZXNvdXJjZSc6IHtcclxuICAgICAgICAgICAgJ3ZpZGVvTGluayc6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEyODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Bvc3RlckxpbmsnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ25hbWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI1NjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2F1dGhvcic6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDMyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAndmVudWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ25vdGUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICd1c2VyJzoge1xyXG4gICAgICAgICAgICAndXNlcm5hbWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Bhc3N3b3JkJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdlbWFpbCc6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8qXHJcbiAqIENvbW1vbiBpbml0aWFsaXphdGlvblxyXG4gKiAqL1xyXG4vKlxyXG4gKGZ1bmN0aW9uICgpIHtcclxuIC8vIFN0aWt5IGZvb3RlclxyXG4gY29uc29sZS5sb2cod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCwgJCgnLnBhZ2UnKS5oZWlnaHQoKSwgJCgnLmRpdi1mb290ZXInKS5oZWlnaHQoKSwgJ2xvYWRpbmcuLicpO1xyXG4gJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24gKCkge1xyXG4gY29uc29sZS5sb2cod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCwgJCgnLnBhZ2UnKS5oZWlnaHQoKSwgJCgnLmRpdi1mb290ZXInKS5oZWlnaHQoKSk7XHJcbiBpZiAoJCgnLnBhZ2UnKS5oZWlnaHQoKSA8IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSAkKCcuZGl2LWZvb3RlcicpLmhlaWdodCgpIC0gNTYpIHtcclxuICQoJy5kaXYtZm9vdGVyJykuaGFzQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKSAmJiAkKCcuZGl2LWZvb3RlcicpLmFkZENsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJyk7XHJcbiB9IGVsc2Uge1xyXG4gJCgnLmRpdi1mb290ZXInKS5oYXNDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpICYmICQoJy5kaXYtZm9vdGVyJykucmVtb3ZlQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKTtcclxuIH1cclxuIH0pO1xyXG4gfSkoKTtcclxuICovXHJcbi8vIFN0aWt5IGZvb3RlclxyXG5mdW5jdGlvbiBzdGlreUZvb3RlcigpIHtcclxuICAgIGlmICgkKCcucGFnZScpLmhlaWdodCgpIDwgd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtICQoJy5kaXYtZm9vdGVyJykuaGVpZ2h0KCkgLSA1Nikge1xyXG4gICAgICAgICEkKCcuZGl2LWZvb3RlcicpLmhhc0NsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJykgJiYgJCgnLmRpdi1mb290ZXInKS5hZGRDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcuZGl2LWZvb3RlcicpLmhhc0NsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJykgJiYgJCgnLmRpdi1mb290ZXInKS5yZW1vdmVDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKHdpbmRvdykuYmluZCgnbG9hZCcsIHN0aWt5Rm9vdGVyKTtcclxuXHJcbi8vIFNlYXJjaCBmb3JtXHJcbiQoJyNmb3JtX3NlYXJjaCcpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIHBhZ2UgPSAkKCcjcGFnZScpLnZhbCgpO1xyXG4gICAgaWYgKHBhZ2UgPT0gJ2FkbWluJykge1xyXG4gICAgICAgICB0eXBlb2YgYWRtaW5fZmV0Y2hSZXNvdXJjZXMgPT0gJ2Z1bmN0aW9uJyAmJiBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09ICdzZWFyY2gnKSB7XHJcbiAgICAgICAgJCgnI2tleXdvcmQnKS52YWwoJCgnI3NlYXJjaF90ZXh0JykudmFsKCkpO1xyXG4gICAgICAgIHR5cGVvZiBwYWdlciA9PSAnb2JqZWN0JyAmJiBwYWdlci5zZXRQYWdlKDEpO1xyXG4gICAgICAgIHR5cGVvZiBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzID09ICdmdW5jdGlvbicgJiYgc2VhcmNoX3NlYXJjaFJlc291cmNlcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHt9LCB1cmwgPSAnL3NlYXJjaCc7XHJcbiAgICAgICAgZGF0YS5rZXl3b3JkID0ga2V5d29yZDtcclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG59KTsiLCIvLyBJbml0aWFsaXphdGlvblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKCcjcGFnZScpLnZhbCgpICE9ICdhZG1pbicpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBJbml0aWFsaXphdGlvblxyXG4gICAgaWYgKCQoJyNmb3JtX2xvZ2luJykubGVuZ3RoICE9IDApIHtcclxuICAgICAgICBhZG1pbl9mb3JtQXR0YWNoRXZlbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWRtaW5fYXR0YWNoRXZlbnQoKTtcclxuICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qXHJcbiAqIEFkbWluLUxvZ2luXHJcbiAqICovXHJcbmZ1bmN0aW9uIGFkbWluX2Zvcm1BdHRhY2hFdmVudCgpIHtcclxuICAgIC8vIEZvcm0gZXZlbnRcclxuICAgICQoJyNmb3JtX2xvZ2luJykuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB2YWxpZGF0ZSA9IGFkbWluX2Zvcm1WYWxpZGF0ZSgpO1xyXG4gICAgICAgIGlmICh2YWxpZGF0ZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKHZhbGlkYXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgbG9naW4gdmlhIGFwaVxyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICB2YXIgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAgICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICAgICAgZGF0YS51c2VybmFtZSA9ICQoJyN1c2VybmFtZScpLnZhbCgpO1xyXG4gICAgICAgIGRhdGEucGFzc3dvcmQgPSAkKCcjcGFzc3dvcmQnKS52YWwoKTtcclxuICAgICAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAndXNlci9sb2dpbicsIGRhdGEpO1xyXG4gICAgICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgICAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgcmVzb3VyY2UgdGJvZHlcclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgJCgnI3VzZXJuYW1lLCAjcGFzc3dvcmQnKS5hZGRDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4nO1xyXG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGb2N1cyBldmVudHNcclxuICAgICQoJyN1c2VybmFtZSwgI3Bhc3N3b3JkJykuZm9jdXMoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjdXNlcm5hbWUnKS5oYXNDbGFzcygnY29sb3ItZXJyb3InKSAmJiAkKCcjdXNlcm5hbWUnKS5yZW1vdmVDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICAkKCcjcGFzc3dvcmQnKS5oYXNDbGFzcygnY29sb3ItZXJyb3InKSAmJiAkKCcjcGFzc3dvcmQnKS5yZW1vdmVDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZG1pbl9mb3JtVmFsaWRhdGUoKSB7XHJcbiAgICB2YXIgdXNlcm5hbWUgPSAkKCcjdXNlcm5hbWUnKS52YWwoKSwgcGFzc3dvcmQgPSAkKCcjcGFzc3dvcmQnKS52YWwoKSwgZmxhZyA9IDE7XHJcbiAgICBpZiAodXNlcm5hbWUudHJpbSgpID09ICcnIHx8IHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnVzZXIudXNlcm5hbWUubGVuZ3RoKCkpIHtcclxuICAgICAgICAkKCcjdXNlcm5hbWUnKS5hZGRDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gJ1VzZXJuYW1lIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwudXNlci51c2VybmFtZS5sZW5ndGgoKSArICcuJztcclxuICAgIH1cclxuICAgIGlmIChwYXNzd29yZC50cmltKCkgPT0gJycgfHwgcGFzc3dvcmQudHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwudXNlci5wYXNzd29yZC5sZW5ndGgoKSkge1xyXG4gICAgICAgICQoJyNwYXNzd29yZCcpLmFkZENsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgIHJldHVybiAnUGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC51c2VyLnBhc3N3b3JkLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZWdleHAgPSAvW2EtekEtWjAtOV9dKy87XHJcbiAgICBpZiAoIXJlZ2V4cC50ZXN0KHVzZXJuYW1lKSkge1xyXG4gICAgICAgICQoJyN1c2VybmFtZScpLmFkZENsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgIHJldHVybiAnVXNlcm5hbWUgbXVzdCBvbmx5IGNvbnRhaW4gY2hhcmFjdGVycywgbnVtYmVycyBhbmQgdW5kZXJzY29yZS4nO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyZWdleHAudGVzdChwYXNzd29yZCkpIHtcclxuICAgICAgICAkKCcjcGFzc3dvcmQnKS5hZGRDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gJ1Bhc3N3b3JkIG11c3Qgb25seSBjb250YWluIGNoYXJhY3RlcnMsIG51bWJlcnMgYW5kIHVuZGVyc2NvcmUuJztcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKlxyXG4gKiBBZG1pbi1Db250ZW50XHJcbiAqICovXHJcbnZhciBwYWdlciA9IG1pYm8udXRpbC5wYWdlcigpO1xyXG5cclxuLy8gUmV0cmlldmUgcmVzb3VyY2VzIHZpYSBhcGlcclxuZnVuY3Rpb24gYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKSB7XHJcbiAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICB2YXIgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICBkYXRhLnRva2VuID0gZGF0YS50b2tlbiB8fCBtaWJvLmNvbmZpZy5UT0tFTjtcclxuICAgIGRhdGEub2Zmc2V0ID0gcGFnZXIuZ2V0SXRlbVN0YXJ0KCk7XHJcbiAgICBkYXRhLmxpbWl0ID0gcGFnZXIuZ2V0SXRlbUNvdW50KCk7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZmV0Y2gnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fcmVzb3VyY2VfZmV0Y2ggPSBhanA7XHJcbiAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzb3VyY2VUQm9keSA9ICQoJyN0Ym9keV9yZXNvdXJjZScpLmVtcHR5KCksIGh0bWw7XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhLnJlc3BvbnNlLmRhdGEucm93cykge1xyXG4gICAgICAgICAgICBodG1sID0gW107XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyIGlkPVwiJywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2lkJ10sICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGltZyBjbGFzcz1cImltZy1pY29uXCIgc3JjPVwiJywgZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwb3N0ZXJfbGluayddKSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydkZXNjcmlwdGlvbiddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3Byb2R1Y2VfdGltZSddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jaztcIiBmaXJlPVwiZWRpdFwiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpIGNsYXNzPVwiZmEgZmEtcmVtb3ZlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxzcGFuIGNsYXNzPVwidGJsLWNvbC1idXR0b25zLXRleHRcIj4mbmJzcDtFZGl0PC9zcGFuPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXIgcmlnaHRcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jaztcIiBmaXJlPVwiZGVsZXRlXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGkgY2xhc3M9XCJmYSBmYS1wZW5jaWxcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHNwYW4gY2xhc3M9XCJ0YmwtY29sLWJ1dHRvbnMtdGV4dFwiPiZuYnNwO0RlbGV0ZTwvc3Bhbj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdHI+Jyk7XHJcbiAgICAgICAgICAgICQoaHRtbC5qb2luKCcnKSkuZGF0YShkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXSkuYXBwZW5kVG8ocmVzb3VyY2VUQm9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkbWluX2F0dGFjaFJlc291cmNlRXZlbnQoKTtcclxuICAgICAgICAvLyBQYWdpbmF0aW9uIHJlLXNldHRpbmdzXHJcbiAgICAgICAgcGFnZXIuc2V0VG90YWxJdGVtKGRhdGEucmVzcG9uc2UuZGF0YS50b3RhbFJvd0NvdW50KTtcclxuICAgICAgICAkKCcjcGFnZV90b3RhbCcpLmh0bWwocGFnZXIuZ2V0VG90YWxQYWdlKCkpO1xyXG4gICAgICAgICQoJyNwYWdlX251bWJlcicpLnZhbCgnJyk7XHJcbiAgICAgICAgJCgnI3BhZ2VfYWN0aXZlJykuaHRtbChwYWdlci5nZXRQYWdlKCkpO1xyXG4gICAgICAgIGlmIChwYWdlci5pc0ZpcnN0UGFnZSgpKSB7XHJcbiAgICAgICAgICAgICQoJyNwYWdlX3ByZXZpb3VzJykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfcHJldmlvdXMnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAhJCgnI3BhZ2VfcHJldmlvdXMnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9wcmV2aW91cycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFnZXIuaXNMYXN0UGFnZSgpKSB7XHJcbiAgICAgICAgICAgICQoJyNwYWdlX25leHQnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9uZXh0JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgISQoJyNwYWdlX25leHQnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9uZXh0JykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0aWt5IGZvb3RlclxyXG4gICAgICAgIHN0aWt5Rm9vdGVyKCk7XHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkbWluX2F0dGFjaFJlc291cmNlRXZlbnQoKSB7XHJcbiAgICAkKCcjdGJvZHlfcmVzb3VyY2UgdHInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJHRyID0gJCh0aGlzKTtcclxuICAgICAgICAkdHIuZmluZCgnYnV0dG9uJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRidXR0b24uYXR0cignZmlyZScpID09ICdlZGl0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlZGl0Li4nKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmFja2Ryb3AnOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3cnOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0RGF0YSA9ICR0ci5kYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLnJlbW92ZURhdGEoJ21vZGUnKS5yZW1vdmVEYXRhKCdsYWJlbCcpLnJlbW92ZURhdGEoJ2RhdGEnKS5kYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21vZGUnOiAnZWRpdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCc6ICdFZGl0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBlZGl0RGF0YS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2aWRlb0xpbmsnOiBkZWNvZGVVUklDb21wb25lbnQoZWRpdERhdGEudmlkZW9fbGluayksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zdGVyTGluayc6IGRlY29kZVVSSUNvbXBvbmVudChlZGl0RGF0YS5wb3N0ZXJfbGluayksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGVkaXREYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBlZGl0RGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRob3InOiBlZGl0RGF0YS5hdXRob3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjZVRpbWUnOiBlZGl0RGF0YS5wcm9kdWNlX3RpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncnVuVGltZSc6IGVkaXREYXRhLnJ1bl90aW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZpZXdzJzogZWRpdERhdGEudmlld3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVudWUnOiBlZGl0RGF0YS52ZW51ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbml0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKCdzaG93Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmF0dHIoJ2ZpcmUnKSA9PSAnZGVsZXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYl9kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRva2VuID0gZGF0YS50b2tlbiB8fCBtaWJvLmNvbmZpZy5UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pZCA9ICR0ci5kYXRhKCkuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9yZW1vdmUnLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWliby5wcm9taXNlcS5hZG1pbl91c2VyX2xvZ2luID0gYWpwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1EaWFsb2coJ0FyZSB5b3Ugc3VyZSB0byBkZWxldGU/JywgY2JfZGVsZXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRtaW5fYXR0YWNoRXZlbnQoKSB7XHJcbiAgICAvLyBMb2dvdXQgbGlua1xyXG4gICAgJCgnI2xpbmtfbG9nb3V0JykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICd1c2VyL2xvZ291dCcsIGRhdGEpO1xyXG4gICAgICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgICAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgcmVzb3VyY2UgdGJvZHlcclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbic7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlc291cmNlIGFkZCBidXR0b25cclxuICAgICQoJyNyZXNvdXJjZV9hZGQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCh7XHJcbiAgICAgICAgICAgICdiYWNrZHJvcCc6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAnc2hvdyc6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLnJlbW92ZURhdGEoJ21vZGUnKS5yZW1vdmVEYXRhKCdsYWJlbCcpLnJlbW92ZURhdGEoJ2RhdGEnKS5kYXRhKHtcclxuICAgICAgICAgICAgJ21vZGUnOiAnYWRkJyxcclxuICAgICAgICAgICAgJ2xhYmVsJzogJ0FkZCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBtb2RhbEluaXQoKTtcclxuICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE1vZGFsIGRpYWxvZyBmb2N1c1xyXG4gICAgJCgnI3Jlc291cmNlX2RpYWxvZyBpbnB1dCcpLmZvY3VzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI21vZGFsLWVycm9yJykuaGlkZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTW9kYWwgc3VibWl0IGJ1dHRvblxyXG4gICAgJCgnI21vZGFsX3NhdmUnKS5jbGljayhtb2RhbFN1Ym1pdCk7XHJcblxyXG4gICAgLy8gTW9kYWwgY2hlY2sgdmlkZW8gYnV0dG9uXHJcbiAgICAkKCcjbW9kYWxfY2hlY2snKS5jbGljayhtb2RhbENoZWNrVmlkZW8pO1xyXG5cclxuICAgIC8vIFBhZ2luYXRpb24gYnV0dG9uc1xyXG4gICAgJCgnI3BhZ2VfcHJldmlvdXMgYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCFwYWdlci5pc0ZpcnN0UGFnZSgpKSB7XHJcbiAgICAgICAgICAgIHBhZ2VyLnNldFBhZ2UocGFnZXIuZ2V0UGFnZSgpIC0gMSk7XHJcbiAgICAgICAgICAgIGFkbWluX2ZldGNoUmVzb3VyY2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjcGFnZV9uZXh0IGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghcGFnZXIuaXNMYXN0UGFnZSgpKSB7XHJcbiAgICAgICAgICAgIHBhZ2VyLnNldFBhZ2UocGFnZXIuZ2V0UGFnZSgpICsgMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0YXJnZXQgcGFnZTogJywgcGFnZXIuZ2V0UGFnZSgpKTtcclxuICAgICAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJyNwYWdlX2dvJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcGFnZU51bWJlciA9IH5+JCgnI3BhZ2VfbnVtYmVyJykudmFsKCk7XHJcbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgID09IDAgfHwgcGFnZU51bWJlciA+IHBhZ2VyLmdldFRvdGFsUGFnZSgpKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoJ1BsZWFzZSBpbnB1dCBhbiBwYWdlIG51bWJlciBiZXR3ZWVuIDEgYW5kICcgKyBwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlTnVtYmVyKTtcclxuICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIE1vZGFsIGRpYWxvZyBpbml0aWFsaXplXHJcbmZ1bmN0aW9uIG1vZGFsSW5pdCgpIHtcclxuICAgIHZhciBkYXRhID0gJCgnI3Jlc291cmNlX2RpYWxvZycpLmRhdGEoKTtcclxuICAgICQoJyNyZXNvdXJjZV9kaWFsb2cgLm1vZGFsLXRpdGxlJykuaHRtbChkYXRhWydsYWJlbCddKTtcclxuICAgIGlmIChkYXRhWydtb2RlJ10gPT0gJ2FkZCcpIHtcclxuICAgICAgICAvLyBGb3IgYWRkIG1vZGVcclxuICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nIGlucHV0JykudmFsKCcnKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YVsnbW9kZSddID09ICdlZGl0Jykge1xyXG4gICAgICAgIC8vIEZvciBlZGl0IG1vZGVcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHsna2V5JzogJ3ZpZGVvTGluaycsICdsYWJlbCc6ICdpcHRfdl91cmwnfSwgeydrZXknOiAncG9zdGVyTGluaycsICdsYWJlbCc6ICdpcHRfaV91cmwnfSwge1xyXG4gICAgICAgICAgICAna2V5JzogJ25hbWUnLFxyXG4gICAgICAgICAgICAnbGFiZWwnOiAnaXB0X25hbWUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgeydrZXknOiAnZGVzY3JpcHRpb24nLCAnbGFiZWwnOiAnaXB0X2Rlc2NyaXB0aW9uJ30sIHsna2V5JzogJ2F1dGhvcicsICdsYWJlbCc6ICdpcHRfYXV0aG9yJ30sIHtcclxuICAgICAgICAgICAgJ2tleSc6ICd2ZW51ZScsXHJcbiAgICAgICAgICAgICdsYWJlbCc6ICdpcHRfdmVudWUnXHJcbiAgICAgICAgfV0uZm9yRWFjaChmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGRhdGFbJ2RhdGEnXVtvYmplY3RbJ2tleSddXSAmJiAkKCcjJyArIG9iamVjdFsnbGFiZWwnXSkudmFsKGRhdGFbJ2RhdGEnXVtvYmplY3RbJ2tleSddXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy8gTW9kYWwgZGlhbG9nIHN1Ym1pdFxyXG5mdW5jdGlvbiBtb2RhbFN1Ym1pdCgpIHtcclxuICAgIHZhciB2YWxpZGF0ZSA9IG1vZGFsVmFsaWRhdGUoKTtcclxuICAgIGlmICh2YWxpZGF0ZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICQoJyNtb2RhbC1lcnJvcicpLnNob3coKS5maW5kKCdsYWJlbCcpLmh0bWwodmFsaWRhdGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY2JfYWRkX2VkaXRfeWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKHsnYmFja2Ryb3AnOidzdGF0aWMnfSk7XHJcbiAgICAgICAgdmFyIG1vZGUgPSAkKCcjcmVzb3VyY2VfZGlhbG9nJykuZGF0YSgnbW9kZScpLCBkYXRhID0gJCgnI3Jlc291cmNlX2RpYWxvZycpLmRhdGEoJ2RhdGEnKSB8fCB7fSwgdXJsO1xyXG4gICAgICAgIGlmIChtb2RlID09ICdhZGQnKSB7XHJcbiAgICAgICAgICAgIHVybCA9IG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9hZGQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgdXJsID0gbWliby5jb25maWcuQVBJICsgJ3Jlc291cmNlL2VkaXQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTYXZlIHJlc291cmNlIHZpYSBhcGlcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICAgICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICAgICAgZGF0YS52aWRlb0xpbmsgPSBlbmNvZGVVUklDb21wb25lbnQoJCgnI2lwdF92X3VybCcpLnZhbCgpLnRyaW0oKSk7XHJcbiAgICAgICAgZGF0YS5wb3N0ZXJMaW5rID0gZW5jb2RlVVJJQ29tcG9uZW50KCQoJyNpcHRfaV91cmwnKS52YWwoKS50cmltKCkpO1xyXG4gICAgICAgIGRhdGEubmFtZSA9ICQoJyNpcHRfbmFtZScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLmRlc2NyaXB0aW9uID0gJCgnI2lwdF9kZXNjcmlwdGlvbicpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLmF1dGhvciA9ICQoJyNpcHRfYXV0aG9yJykudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGRhdGEucHJvZHVjZVRpbWUgPSAkKCcjaXB0X3Byb2R1Y2VUaW1lJykudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGRhdGEucnVuVGltZSA9ICQoJyNpcHRfcnVuVGltZScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnZpZXdzID0gJCgnI2lwdF92aWV3cycpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnZlbnVlID0gJCgnI2lwdF92ZW51ZScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdCh1cmwsIGRhdGEpO1xyXG4gICAgICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgICAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgcmVzb3VyY2UgdGJvZHlcclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnI21vZGFsLWVycm9yJykuc2hvdygpLmZpbmQoJ2xhYmVsJykuaHRtbChkYXRhLnJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBjYl9hZGRfZWRpdF9ubyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoeydiYWNrZHJvcCc6ICdzdGF0aWMnfSk7XHJcbiAgICB9O1xyXG4gICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICBzaG93Q29uZmlybURpYWxvZygnQXJlIHlvdSBzdXJlIHRvIHNhdmU/JywgY2JfYWRkX2VkaXRfeWVzLCBjYl9hZGRfZWRpdF9ubyk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBtb2RhbFZhbGlkYXRlKCkge1xyXG4gICAgdmFyIHZpZGVvID0gJCgnI2lwdF92X3VybCcpLnZhbCgpLCBpbWFnZSA9ICQoJyNpcHRfaV91cmwnKS52YWwoKSwgbmFtZSA9ICQoJyNpcHRfbmFtZScpLnZhbCgpLCBmbGFnID0gMTtcclxuICAgIGlmICh2aWRlby50cmltKCkgPT0gJycgfHwgdmlkZW8udHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgcmV0dXJuICdWaWRlbyBVUkwgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC5yZXNvdXJjZS52aWRlb0xpbmsubGVuZ3RoKCkgKyAnLic7XHJcbiAgICB9XHJcbiAgICBpZiAoaW1hZ2UudHJpbSgpID09ICcnIHx8IGltYWdlLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnJlc291cmNlLnBvc3RlckxpbmsubGVuZ3RoKCkpIHtcclxuICAgICAgICByZXR1cm4gJ1Bvc3RlciBVUkwgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC5yZXNvdXJjZS5wb3N0ZXJMaW5rLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgaWYgKG5hbWUudHJpbSgpID09ICcnIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwucmVzb3VyY2UubmFtZS5sZW5ndGgoKSkge1xyXG4gICAgICAgIHJldHVybiAnVmlkZW8gbmFtZSBjYW5ub3QgYmUgZW1wdHksIGFuZCB0aGUgbGVuZ3RoIG11c3QgbGVzcyB0aGFuICcgKyBtaWJvLm1vZGFsLnJlc291cmNlLm5hbWUubGVuZ3RoKCkgKyAnLic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gbW9kYWxDaGVja1ZpZGVvKCkge1xyXG4gICAgdmFyIHZpZGVvID0gJCgnI2lwdF92X3VybCcpLnZhbCgpO1xyXG4gICAgaWYgKHZpZGVvLnRyaW0oKSA9PSAnJyB8fCB2aWRlby50cmltKCkubGVuZ3RoID4gbWliby5tb2RhbC5yZXNvdXJjZS52aWRlb0xpbmsubGVuZ3RoKCkpIHtcclxuICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCdWaWRlbyBVUkwgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC5yZXNvdXJjZS52aWRlb0xpbmsubGVuZ3RoKCkgKyAnLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIHZpZGVvIFVSTCBleGlzdGVuY2UgdmlhIGFwaVxyXG4gICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICBkYXRhLnZpZGVvTGluayA9ICQoJyNpcHRfdl91cmwnKS52YWwoKTtcclxuICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9leGlzdCcsIGRhdGEpO1xyXG4gICAgbWliby5wcm9taXNlcS5hZG1pbl91c2VyX2xvZ2luID0gYWpwO1xyXG4gICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICQoJyNtb2RhbC1lcnJvcicpLnNob3coKS5maW5kKCdsYWJlbCcpLmh0bWwoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWVzc2FnZSA9IGRhdGEucmVzcG9uc2UuZGF0YS5leGlzdCA/ICdUaGUgdmlkZW8gVVJMIGhhcyBleGlzdGVkLCBwbGVhc2UgdHJ5IGFub3RoZXIgb25lLicgOiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXN1Y2Nlc3NcIj5UaGUgdmlkZW8gVVJMIGRvIE5PVCBleGlzdCwgY2FuIGNvbnRpbnVlIHRvIGFkZC48L3NwYW4+JztcclxuICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5zaG93KCkuZmluZCgnbGFiZWwnKS5odG1sKG1lc3NhZ2UpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIENvbmZpcm0gZGlhbG9nXHJcbmZ1bmN0aW9uIHNob3dDb25maXJtRGlhbG9nKG1lc3NhZ2UsIGNiWWVzLCBjYk5vKSB7XHJcbiAgICAkKCcjY29uZmlybV9kaWFsb2cnKS5tb2RhbCh7J2JhY2tkcm9wJzogJ3N0YXRpYycsICdzaG93JzogZmFsc2V9KTtcclxuICAgICQoJyNjb25maXJtX2RpYWxvZyAubW9kYWwtYm9keSBsYWJlbCcpLmh0bWwobWVzc2FnZSk7XHJcbiAgICAkKCcjY29uZmlybV95ZXMnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNjb25maXJtX2RpYWxvZycpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgJCgnI21vZGFsLWVycm9yJykuaGlkZSgpO1xyXG4gICAgICAgIGNiWWVzICYmIGNiWWVzKCk7XHJcbiAgICB9KTtcclxuICAgICQoJyNjb25maXJtX25vJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjY29uZmlybV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIGNiTm8gJiYgY2JObygpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjY29uZmlybV9kaWFsb2cnKS5vbignaGlkZS5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI2NvbmZpcm1feWVzJykub2ZmKCk7XHJcbiAgICAgICAgJCgnI2NvbmZpcm1fbm8nKS5vZmYoKTtcclxuICAgIH0pLm1vZGFsKCdzaG93Jyk7XHJcbn1cclxuIiwiLy8gSW5pdGlhbGl6YXRpb25cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnI3BhZ2UnKS52YWwoKSAhPSAnaG9tZScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBJbml0aWFsaXphdGlvblxyXG4gICAgaG9tZV9hdHRhY2hFdmVudCgpO1xyXG4gICAgaG9tZV9zZWFyY2hSZXNvdXJjZXMoe30sICdoX25fdGJvZHknKTtcclxuICAgIGhvbWVfc2VhcmNoUmVzb3VyY2VzKHsnb3JkZXInOid2aWV3cyd9LCAnaF90X3Rib2R5Jyk7XHJcbn0pO1xyXG5cclxuLypcclxuICogSG9tZS1Db250ZW50XHJcbiAqICovXHJcblxyXG4vLyBSZXRyaWV2ZSByZXNvdXJjZXMgdmlhIGFwaVxyXG5mdW5jdGlvbiBob21lX3NlYXJjaFJlc291cmNlcyhjcml0ZXJpYSwgY29udGFpbmVySWQpIHtcclxuICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgIHZhciBkYXRhID0ge307XHJcbiAgICBkYXRhLnRva2VuID0gbWliby5jb25maWcuVE9LRU47XHJcbiAgICBkYXRhLm9mZnNldCA9IGNyaXRlcmlhLm9mZnNldCB8fCAwO1xyXG4gICAgZGF0YS5saW1pdCA9IGNyaXRlcmlhLmxpbWl0IHx8IDEwO1xyXG4gICAgZGF0YS5rZXl3b3JkID0gY3JpdGVyaWEua2V5d29yZCB8fCBudWxsO1xyXG4gICAgZGF0YS5vcmRlciA9IGNyaXRlcmlhLm9yZGVyIHx8IG51bGw7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZmV0Y2gnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fcmVzb3VyY2VfZmV0Y2ggPSBhanA7XHJcbiAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzb3VyY2VUQm9keSA9ICQoJyMnICsgY29udGFpbmVySWQpLmVtcHR5KCksIGh0bWw7XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2UuZGF0YS50b3RhbFJvd0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgJCgnPHRyPjx0ZD48cD5UaGVyZSBpcyBubyByZXN1bHQgYmFzZWQgb24geW91ciBzZWFyY2gga2V5d29yZC4uLjwvcD48L3RkPjwvdHI+JykuYXBwZW5kVG8ocmVzb3VyY2VUQm9keSk7XHJcbiAgICAgICAgICAgIHN0aWt5Rm9vdGVyKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwIGluIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzKSB7XHJcbiAgICAgICAgICAgIGh0bWwgPSBbXTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dHIgaWQ9XCInLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnaWQnXSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtaW1nXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGltZyBjbGFzcz1cImltZy1pY29uXCIgc3JjPVwiJywgZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwb3N0ZXJfbGluayddKSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC1hdXRob3JcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWyduYW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnYXV0aG9yJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLXRpbWVcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwcm9kdWNlX3RpbWUnXSwgJzwvcD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsICc8aSBjbGFzcz1cImZhIGZhLWV5ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nLCBtaWJvLnV0aWwuZm9ybWF0Lm51bWJlcjJrdmlldyhkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsndmlld3MnXSksICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2Rlc2NyaXB0aW9uJ10sICc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdHI+Jyk7XHJcbiAgICAgICAgICAgICQoaHRtbC5qb2luKCcnKSkuZGF0YShkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXSkuYXBwZW5kVG8ocmVzb3VyY2VUQm9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvbWVfYXR0YWNoUmVzb3VyY2VFdmVudCgpO1xyXG4gICAgICAgIC8vIFN0aWt5IGZvb3RlclxyXG4gICAgICAgIHN0aWt5Rm9vdGVyKCk7XHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhvbWVfYXR0YWNoUmVzb3VyY2VFdmVudCgpIHtcclxuICAgICQoJyNoX25fdGJvZHkgdHIsICNoX3RfdGJvZHkgdHInKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgpLCB1cmwgPSAnL3BsYXknO1xyXG4gICAgICAgIG1pYm8udXRpbC5mb3JtLnBvc3QodXJsLCBkYXRhKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBob21lX2F0dGFjaEV2ZW50KCkge1xyXG4gICAgLy8gVmlldyBtb3JlIGxpbmtcclxuICAgICQoJyNidG5fbW9yZV9uZXdfcGMsICNidG5fbW9yZV9uZXdfbWIsICNidG5fbW9yZV90b3BfcGMsICNidG5fbW9yZV90b3BfbWInKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBkYXRhID0ge30sIHVybCA9ICcvc2VhcmNoJztcclxuICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCd0eXBlJykgPT0gJ3RvcCcpIHtcclxuICAgICAgICAgICAgZGF0YS5vcmRlciA9ICd2aWV3cyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1pYm8udXRpbC5mb3JtLnBvc3QodXJsLCBkYXRhKTtcclxuICAgIH0pO1xyXG59IiwiLy8gSW5pdGlhbGl6YXRpb25cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnI3BhZ2UnKS52YWwoKSAhPSAnc2VhcmNoJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIEluaXRpYWxpemF0aW9uXHJcbiAgICBzZWFyY2hfYXR0YWNoRXZlbnQoKTtcclxuICAgIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKTtcclxufSk7XHJcblxyXG4vKlxyXG4gKiBBZG1pbi1Db250ZW50XHJcbiAqICovXHJcbnZhciBwYWdlciA9IG1pYm8udXRpbC5wYWdlcigpO1xyXG5cclxuLy8gUmV0cmlldmUgcmVzb3VyY2VzIHZpYSBhcGlcclxuZnVuY3Rpb24gc2VhcmNoX3NlYXJjaFJlc291cmNlcygpIHtcclxuICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgIHZhciBkYXRhID0ge307XHJcbiAgICBkYXRhLnRva2VuID0gbWliby5jb25maWcuVE9LRU47XHJcbiAgICBkYXRhLm9mZnNldCA9IHBhZ2VyLmdldEl0ZW1TdGFydCgpO1xyXG4gICAgZGF0YS5saW1pdCA9IHBhZ2VyLmdldEl0ZW1Db3VudCgpO1xyXG4gICAgdmFyIHN0YXJ0VGltZSA9ICQoJyNzdGFydFRpbWUnKS52YWwoKSwgZW5kVGltZSA9ICQoJyNlbmRUaW1lJykudmFsKCksXHJcbiAgICAgICAga2V5d29yZCA9ICQoJyNrZXl3b3JkJykudmFsKCksIG9yZGVyID0gJCgnI29yZGVyJykudmFsKCk7XHJcbiAgICBzdGFydFRpbWUgJiYgKGRhdGEuc3RhcnRUaW1lID0gc3RhcnRUaW1lKTtcclxuICAgIGVuZFRpbWUgJiYgKGRhdGEuZW5kVGltZSA9IGVuZFRpbWUpO1xyXG4gICAga2V5d29yZCAmJiAoZGF0YS5rZXl3b3JkID0ga2V5d29yZCk7XHJcbiAgICBvcmRlciAmJiAoZGF0YS5vcmRlciA9IG9yZGVyKTtcclxuICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9mZXRjaCcsIGRhdGEpO1xyXG4gICAgbWliby5wcm9taXNlcS5hZG1pbl9yZXNvdXJjZV9mZXRjaCA9IGFqcDtcclxuICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAvLyBDb25zdHJ1Y3QgcmVzb3VyY2UgdGJvZHlcclxuICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcihkYXRhLnJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXNvdXJjZVRCb2R5ID0gJCgnI3Jlc3VsdF90Ym9keScpLmVtcHR5KCksIGh0bWw7XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2UuZGF0YS50b3RhbFJvd0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgJCgnPHRyPjx0ZD48cD5UaGVyZSBpcyBubyByZXN1bHQgYmFzZWQgb24geW91ciBzZWFyY2gga2V5d29yZC4uLjwvcD48L3RkPjwvdHI+JykuYXBwZW5kVG8ocmVzb3VyY2VUQm9keSk7XHJcbiAgICAgICAgICAgIHN0aWt5Rm9vdGVyKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwIGluIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzKSB7XHJcbiAgICAgICAgICAgIGh0bWwgPSBbXTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dHIgaWQ9XCInLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnaWQnXSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtaW1nXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGltZyBjbGFzcz1cImltZy1pY29uXCIgc3JjPVwiJywgZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwb3N0ZXJfbGluayddKSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC1hdXRob3JcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWyduYW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnYXV0aG9yJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLXRpbWVcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwcm9kdWNlX3RpbWUnXSwgJzwvcD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8cCBjbGFzcz1cInRkLXJvd1wiPicsICc8aSBjbGFzcz1cImZhIGZhLWV5ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nLCBtaWJvLnV0aWwuZm9ybWF0Lm51bWJlcjJrdmlldyhkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsndmlld3MnXSksICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2Rlc2NyaXB0aW9uJ10sICc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdHI+Jyk7XHJcbiAgICAgICAgICAgICQoaHRtbC5qb2luKCcnKSkuZGF0YShkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXSkuYXBwZW5kVG8ocmVzb3VyY2VUQm9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlYXJjaF9hdHRhY2hSZXNvdXJjZUV2ZW50KCk7XHJcbiAgICAgICAgLy8gUGFnaW5hdGlvbiByZS1zZXR0aW5nc1xyXG4gICAgICAgIHBhZ2VyLnNldFRvdGFsSXRlbShkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCk7XHJcbiAgICAgICAgJCgnI3BhZ2VfdG90YWwnKS5odG1sKHBhZ2VyLmdldFRvdGFsUGFnZSgpKTtcclxuICAgICAgICAkKCcjcGFnZV9udW1iZXInKS52YWwoJycpO1xyXG4gICAgICAgICQoJyNwYWdlX2FjdGl2ZScpLmh0bWwocGFnZXIuZ2V0UGFnZSgpKTtcclxuICAgICAgICBpZiAocGFnZXIuaXNGaXJzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICAkKCcjcGFnZV9wcmV2aW91cycpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX3ByZXZpb3VzJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgISQoJyNwYWdlX3ByZXZpb3VzJykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfcHJldmlvdXMnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhZ2VyLmlzTGFzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICAkKCcjcGFnZV9uZXh0JykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfbmV4dCcpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICEkKCcjcGFnZV9uZXh0JykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfbmV4dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTdGlreSBmb290ZXJcclxuICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hfYXR0YWNoUmVzb3VyY2VFdmVudCgpIHtcclxuICAgICQoJyNyZXN1bHRfdGJvZHkgdHInKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgpLCB1cmwgPSAnL3BsYXknO1xyXG4gICAgICAgIG1pYm8udXRpbC5mb3JtLnBvc3QodXJsLCBkYXRhKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hfYXR0YWNoRXZlbnQoKSB7XHJcbiAgICAvLyBQYWdpbmF0aW9uIGJ1dHRvbnNcclxuICAgICQoJyNwYWdlX3ByZXZpb3VzIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghcGFnZXIuaXNGaXJzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VyLmdldFBhZ2UoKSAtIDEpO1xyXG4gICAgICAgICAgICBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjcGFnZV9uZXh0IGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghcGFnZXIuaXNMYXN0UGFnZSgpKSB7XHJcbiAgICAgICAgICAgIHBhZ2VyLnNldFBhZ2UocGFnZXIuZ2V0UGFnZSgpICsgMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0YXJnZXQgcGFnZTogJywgcGFnZXIuZ2V0UGFnZSgpKTtcclxuICAgICAgICAgICAgc2VhcmNoX3NlYXJjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI3BhZ2VfZ28nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBwYWdlTnVtYmVyID0gfn4kKCcjcGFnZV9udW1iZXInKS52YWwoKTtcclxuICAgICAgICBpZiAocGFnZU51bWJlciAgPT0gMCB8fCBwYWdlTnVtYmVyID4gcGFnZXIuZ2V0VG90YWxQYWdlKCkpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcignUGxlYXNlIGlucHV0IGFuIHBhZ2UgbnVtYmVyIGJldHdlZW4gMSBhbmQgJyArIHBhZ2VyLmdldFRvdGFsUGFnZSgpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VOdW1iZXIpO1xyXG4gICAgICAgIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKTtcclxuICAgIH0pO1xyXG59Il19
