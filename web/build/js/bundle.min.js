function stikyFooter(){$(".page").height()<window.screen.availHeight-$(".div-footer").height()-56?!$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").addClass("div-footer-fixed"):$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").removeClass("div-footer-fixed")}var mibo=mibo||{};mibo.config=mibo.config||{API:$("#api").val()||"",TOKEN:$("#token").val()||"",loading:{id:"#loading_panel"}},mibo.promiseq=mibo.promiseq||{},mibo.util=mibo.util||{loading:{show:function(){$(mibo.config.loading.id).show()},hide:function(){$(mibo.config.loading.id).hide()}},http:{post:function(e,t,n){return $.ajax({url:e,type:"post",data:t,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",headers:n||{}})}},system:{error:function(e){var e=e||"You seems to meet up a system error. It is appreciated if you can send an email to us via: rhinostudio2017@gmail.com";alert(e)}},format:{number2kview:function(e){var t=e+"",n=t.length;if(n<=3)return e;var o,i="",r=3;for(i=","+t.slice(-r);r<n;)o=-r,(r+=3)>n&&(r=n),i=","+t.slice(-r,o)+i;return i=i.slice(1)}},pager:function(){return new function(){var e=1,t=1,n=0,o=10;this.setPage=function(t){e=t},this.getPage=function(){return e},this.setTotalPage=function(e){t=e},this.getTotalPage=function(){return t},this.increasePage=function(){e<t&&e++},this.decreasePage=function(){e>1&&e--},this.isFirstPage=function(){return 1==e},this.isLastPage=function(){return e==t},this.setItemCount=function(e){o=e},this.getItemCount=function(){return o},this.setTotalItem=function(e){n=e,this.setTotalPage(Math.floor(n/o)+1)},this.getItemStart=function(){return(e-1)*o}}},form:{post:function(e,t){var n=document.createElement("form");n.target="_blank",n.method="POST",n.action=e,n.style.display="none";for(var o in t){var i=document.createElement("input");i.type="text",i.name=o,i.value=t[o],n.appendChild(i)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}},mibo.modal=mibo.modal||{resource:{videoLink:{length:function(){return 128}},posterLink:{length:function(){return 64}},name:{length:function(){return 128}},description:{length:function(){return 256}},author:{length:function(){return 32}},venue:{length:function(){return 64}},note:{length:function(){return 128}}},user:{username:{length:function(){return 64}},password:{length:function(){return 64}},email:{length:function(){return 64}}}},$(window).bind("load",stikyFooter),$("#form_search").submit(function(e){e.preventDefault();var t=$("#page").val();if("admin"==t)"function"==typeof admin_fetchResources&&admin_fetchResources();else if("search"==t)$("#keyword").val($("#search_text").val()),"object"==typeof pager&&pager.setPage(1),"function"==typeof search_searchResources&&search_searchResources();else{var n={};n.keyword=$("#search_text").val(),mibo.util.form.post("/search",n)}});
function admin_formAttachEvent(){$("#form_login").submit(function(e){e.preventDefault();var o=admin_formValidate();if(!0===o){mibo.util.loading.show();var a=a||{};a.token=a.token||mibo.config.TOKEN,a.username=$("#username").val(),a.password=$("#password").val();var i=mibo.util.http.post(mibo.config.API+"user/login",a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return $("#username, #password").addClass("color-error"),mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}else mibo.util.system.error(o)}),$("#username, #password").focus(function(e){$("#username").hasClass("color-error")&&$("#username").removeClass("color-error"),$("#password").hasClass("color-error")&&$("#password").removeClass("color-error")})}function admin_formValidate(){var e=$("#username").val(),o=$("#password").val();if(""==e.trim()||e.trim().length>mibo.modal.user.username.length())return $("#username").addClass("color-error"),"Username cannot be empty, and the length must less than "+mibo.modal.user.username.length()+".";if(""==o.trim()||o.trim().length>mibo.modal.user.password.length())return $("#password").addClass("color-error"),"Password cannot be empty, and the length must less than "+mibo.modal.user.password.length()+".";var a=/[a-zA-Z0-9_]+/;return a.test(e)?!!a.test(o)||($("#password").addClass("color-error"),"Password must only contain characters, numbers and underscore."):($("#username").addClass("color-error"),"Username must only contain characters, numbers and underscore.")}function admin_fetchResources(){mibo.util.loading.show();var e=e||{};e.token=e.token||mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount(),e.keyword=$("#search_text").val().trim()||"";var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var i,t=$("#tbody_resource").empty();for(var r in e.response.data.rows)(i=[]).push('<tr id="',e.response.data.rows[r].id,'">'),i.push("<td>"),i.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[r].poster_link),'">'),i.push("</td>"),i.push("<td>",e.response.data.rows[r].description,"</td>"),i.push("<td>",e.response.data.rows[r].produce_time,"</td>"),i.push("<td>"),i.push('<button class="btn btn-sm btn-primary" style="display: inline-block;" fire="edit">'),i.push('<i class="fa fa-remove" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Edit</span>'),i.push("</button>"),i.push('<button class="btn btn-sm btn-danger right" style="display: inline-block;" fire="delete">'),i.push('<i class="fa fa-pencil" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Delete</span>'),i.push("</button>"),i.push("</td>"),i.push("</tr>"),$(i.join("")).data(e.response.data.rows[r]).appendTo(t);admin_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function admin_attachResourceEvent(){$("#tbody_resource tr").each(function(){var e=$(this);e.find("button").each(function(){var o=$(this);o.click(function(a){if("edit"==o.attr("fire")){console.log("edit.."),$("#resource_dialog").modal({backdrop:"static",show:!1});var i=e.data();$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"edit",label:"Edit",data:{id:i.id,videoLink:decodeURIComponent(i.video_link),posterLink:decodeURIComponent(i.poster_link),name:i.name,description:i.description,author:i.author,produceTime:i.produce_time,runTime:i.run_time,views:i.views,venue:i.venue}}),modalInit(),$("#resource_dialog").modal("show")}else if("delete"==o.attr("fire")){showConfirmDialog("Are you sure to delete?",function(){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.id=e.data().id;var a=mibo.util.http.post(mibo.config.API+"resource/remove",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status?admin_fetchResources():mibo.util.system.error(e.response.message)}).fail(function(){mibo.util.system.error()})})}})})})}function admin_attachEvent(){$("#link_logout").click(function(e){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN;var a=mibo.util.http.post(mibo.config.API+"user/logout",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),"success"!=e.response.status&&(mibo.util.loading.hide(),mibo.util.system.error()),mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}),$("#resource_add").click(function(e){$("#resource_dialog").modal({backdrop:"static",show:!1}),$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"add",label:"Add"}),modalInit(),$("#resource_dialog").modal("show")}),$("#resource_dialog input").focus(function(e){$("#modal-error").hide()}),$("#modal_save").click(modalSubmit),$("#modal_check").click(modalCheckVideo),$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),admin_fetchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),admin_fetchResources())}),$("#page_go").click(function(e){var o=~~$("#page_number").val();0==o||o>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(o),admin_fetchResources())})}function modalInit(){var e=$("#resource_dialog").data();$("#resource_dialog .modal-title").html(e.label),"add"==e.mode?($("#resource_dialog input").val(""),$("#resource_dialog input#ipt_name").val("Chinese homemade video")):"edit"==e.mode&&[{key:"videoLink",label:"ipt_v_url"},{key:"posterLink",label:"ipt_i_url"},{key:"name",label:"ipt_name"},{key:"description",label:"ipt_description"},{key:"author",label:"ipt_author"},{key:"produceTime",label:"ipt_produceTime"},{key:"runTime",label:"ipt_runTime"},{key:"views",label:"ipt_views"},{key:"venue",label:"ipt_venue"}].forEach(function(o){e.data[o.key]&&$("#"+o.label).val(e.data[o.key])})}function modalSubmit(){var e=modalValidate();if(!0===e){$("#resource_dialog").modal("hide"),showConfirmDialog("Are you sure to save?",function(){var e,o=$("#resource_dialog").data("mode"),a=$("#resource_dialog").data("data")||{};"add"==o?e=mibo.config.API+"resource/add":"edit"==o&&(e=mibo.config.API+"resource/edit"),mibo.util.loading.show(),a.token=a.token||mibo.config.TOKEN,a.videoLink=encodeURIComponent($("#ipt_v_url").val().trim()),a.posterLink=encodeURIComponent($("#ipt_i_url").val().trim()),a.name=$("#ipt_name").val().trim(),a.description=$("#ipt_description").val().trim(),a.author=$("#ipt_author").val().trim(),a.produceTime=$("#ipt_produceTime").val().trim(),a.runTime=$("#ipt_runTime").val().trim(),a.views=$("#ipt_views").val().trim(),a.venue=$("#ipt_venue").val().trim();var i=mibo.util.http.post(e,a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void $("#modal-error").show().find("label").html(e.response.message);mibo.util.loading.hide(),$("#resource_dialog").modal("hide"),admin_fetchResources()}).fail(function(e,o,a){mibo.util.system.error("Status: "+o+"<br>Message: "+a)})},function(){$("#resource_dialog").modal({backdrop:"static"})})}else $("#modal-error").show().find("label").html(e)}function modalValidate(){var e=$("#ipt_v_url").val(),o=$("#ipt_i_url").val(),a=$("#ipt_name").val();return""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length()?"Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".":""==o.trim()||o.trim().length>mibo.modal.resource.posterLink.length()?"Poster URL cannot be empty, and the length must less than "+mibo.modal.resource.posterLink.length()+".":!(""==a.trim()||a.trim().length>mibo.modal.resource.name.length())||"Video name cannot be empty, and the length must less than "+mibo.modal.resource.name.length()+"."}function modalCheckVideo(){var e=$("#ipt_v_url").val();if(""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length())mibo.util.system.error("Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".");else{mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.videoLink=$("#ipt_v_url").val();var a=mibo.util.http.post(mibo.config.API+"resource/exist",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){if(console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status){var i=e.response.data.exist?"The video URL has existed, please try another one.":'<span class="text-success">The video URL do NOT exist, can continue to add.</span>';$("#modal-error").show().find("label").html(i)}else $("#modal-error").show().find("label").html(e.response.message)}).fail(function(){mibo.util.system.error()})}}function showConfirmDialog(e,o,a){$("#confirm_dialog").modal({backdrop:"static",show:!1}),$("#confirm_dialog .modal-body label").html(e),$("#confirm_yes").click(function(e){$("#confirm_dialog").modal("hide"),$("#modal-error").hide(),o&&o()}),$("#confirm_no").click(function(e){$("#confirm_dialog").modal("hide"),a&&a()}),$("#confirm_dialog").on("hide.bs.modal",function(e){$("#confirm_yes").off(),$("#confirm_no").off()}).modal("show")}$(function(){if("admin"!=$("#page").val())return!1;0!=$("#form_login").length?admin_formAttachEvent():(admin_attachEvent(),admin_fetchResources())});var pager=mibo.util.pager();
function home_searchResources(o,t){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=o.offset||0,e.limit=o.limit||10,e.keyword=o.keyword||null,e.order=o.order||null;var s=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=s,s.done(function(o,e,s){if(console.log("data",o),"success"!=o.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(o.response.message);var r,i=$("#"+t).empty();if(0==o.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(i),stikyFooter(),void mibo.util.loading.hide();for(var a in o.response.data.rows)(r=[]).push('<tr id="',o.response.data.rows[a].id,'">'),r.push('<td class="tbl-col-img">'),r.push('<img class="img-icon" src="',decodeURIComponent(o.response.data.rows[a].poster_link),'">'),r.push("</td>"),r.push('<td class="tbl-col-author">'),r.push('<p class="td-row">',o.response.data.rows[a].name,"</p>"),r.push('<p class="td-row">',o.response.data.rows[a].author,"</p>"),r.push("</td>"),r.push('<td class="tbl-col-time">'),r.push('<p class="td-row">',o.response.data.rows[a].produce_time,"</p>"),r.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(o.response.data.rows[a].views),"</p>"),r.push("</td>"),r.push("<td>",o.response.data.rows[a].description,"</td>"),r.push("</tr>"),$(r.join("")).data(o.response.data.rows[a]).appendTo(i);home_attachResourceEvent(),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function home_attachResourceEvent(){$("#h_n_tbody tr, #h_t_tbody tr").click(function(o){o.preventDefault();var t=$(this).data();mibo.util.form.post("/play",t)})}function home_attachEvent(){$("#btn_more_new_pc, #btn_more_new_mb, #btn_more_top_pc, #btn_more_top_mb").click(function(o){var t={};"top"==$(this).attr("type")&&(t.order="views"),mibo.util.form.post("/search",t)})}$(function(){if("home"!=$("#page").val())return!1;home_attachEvent(),home_searchResources({},"h_n_tbody"),home_searchResources({order:"views"},"h_t_tbody")});
function search_searchResources(){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount();var a=$("#startTime").val(),s=$("#endTime").val(),t=$("#keyword").val(),r=$("#order").val();a&&(e.startTime=a),s&&(e.endTime=s),t&&(e.keyword=t),r&&(e.order=r);var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,a,s){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var t,r=$("#result_tbody").empty();if(0==e.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(r),stikyFooter(),void mibo.util.loading.hide();for(var o in e.response.data.rows)(t=[]).push('<tr id="',e.response.data.rows[o].id,'">'),t.push('<td class="tbl-col-img">'),t.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[o].poster_link),'">'),t.push("</td>"),t.push('<td class="tbl-col-author">'),t.push('<p class="td-row">',e.response.data.rows[o].name,"</p>"),t.push('<p class="td-row">',e.response.data.rows[o].author,"</p>"),t.push("</td>"),t.push('<td class="tbl-col-time">'),t.push('<p class="td-row">',e.response.data.rows[o].produce_time,"</p>"),t.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(e.response.data.rows[o].views),"</p>"),t.push("</td>"),t.push("<td>",e.response.data.rows[o].description,"</td>"),t.push("</tr>"),$(t.join("")).data(e.response.data.rows[o]).appendTo(r);search_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function search_attachResourceEvent(){$("#result_tbody tr").click(function(e){e.preventDefault();var a=$(this).data();mibo.util.form.post("/play",a)})}function search_attachEvent(){$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),search_searchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),search_searchResources())}),$("#page_go").click(function(e){var a=~~$("#page_number").val();0==a||a>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(a),search_searchResources())})}$(function(){if("search"!=$("#page").val())return!1;search_attachEvent(),search_searchResources()});var pager=mibo.util.pager();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImFkbWluLmpzIiwiaG9tZS5qcyIsInNlYXJjaC5qcyJdLCJuYW1lcyI6WyJzdGlreUZvb3RlciIsIiQiLCJoZWlnaHQiLCJ3aW5kb3ciLCJzY3JlZW4iLCJhdmFpbEhlaWdodCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1pYm8iLCJjb25maWciLCJBUEkiLCJ2YWwiLCJUT0tFTiIsImxvYWRpbmciLCJpZCIsInByb21pc2VxIiwidXRpbCIsInNob3ciLCJoaWRlIiwiaHR0cCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwiaGVhZGVyT3B0aW9ucyIsImFqYXgiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImhlYWRlcnMiLCJzeXN0ZW0iLCJlcnJvciIsIm1zZyIsImFsZXJ0IiwiZm9ybWF0IiwibnVtYmVyMmt2aWV3IiwibnVtYmVyIiwic3RyTnVtYmVyIiwic3RyTGVuZ3RoIiwibGVuZ3RoIiwiZW5kIiwic3RyVmlldyIsInN0YXJ0Iiwic2xpY2UiLCJwYWdlciIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlIiwidG90YWxJdGVtIiwiaXRlbUNvdW50IiwidGhpcyIsInNldFBhZ2UiLCJwYWdlIiwiZ2V0UGFnZSIsInNldFRvdGFsUGFnZSIsInBhZ2VDb3VudCIsImdldFRvdGFsUGFnZSIsImluY3JlYXNlUGFnZSIsImRlY3JlYXNlUGFnZSIsImlzRmlyc3RQYWdlIiwiaXNMYXN0UGFnZSIsInNldEl0ZW1Db3VudCIsImNvdW50IiwiZ2V0SXRlbUNvdW50Iiwic2V0VG90YWxJdGVtIiwiaXRlbU51bWJlciIsIk1hdGgiLCJmbG9vciIsImdldEl0ZW1TdGFydCIsImZvcm0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0YXJnZXQiLCJtZXRob2QiLCJhY3Rpb24iLCJzdHlsZSIsImRpc3BsYXkiLCJrZXkiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwiYm9keSIsInN1Ym1pdCIsInJlbW92ZUNoaWxkIiwibW9kYWwiLCJyZXNvdXJjZSIsInZpZGVvTGluayIsInBvc3RlckxpbmsiLCJkZXNjcmlwdGlvbiIsImF1dGhvciIsInZlbnVlIiwibm90ZSIsInVzZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZW1haWwiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWRtaW5fZmV0Y2hSZXNvdXJjZXMiLCJzZWFyY2hfc2VhcmNoUmVzb3VyY2VzIiwia2V5d29yZCIsImFkbWluX2Zvcm1BdHRhY2hFdmVudCIsInZhbGlkYXRlIiwiYWRtaW5fZm9ybVZhbGlkYXRlIiwidG9rZW4iLCJhanAiLCJhZG1pbl91c2VyX2xvZ2luIiwiZG9uZSIsInN0YXR1cyIsImFqWGhyIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwibWVzc2FnZSIsImxvY2F0aW9uIiwiaHJlZiIsImZhaWwiLCJmb2N1cyIsInRyaW0iLCJyZWdleHAiLCJ0ZXN0Iiwib2Zmc2V0IiwibGltaXQiLCJhZG1pbl9yZXNvdXJjZV9mZXRjaCIsImh0bWwiLCJyZXNvdXJjZVRCb2R5IiwiZW1wdHkiLCJwIiwicm93cyIsInB1c2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYXBwZW5kVG8iLCJhZG1pbl9hdHRhY2hSZXNvdXJjZUV2ZW50IiwidG90YWxSb3dDb3VudCIsImVhY2giLCIkdHIiLCJmaW5kIiwiJGJ1dHRvbiIsImNsaWNrIiwiYXR0ciIsImJhY2tkcm9wIiwiZWRpdERhdGEiLCJyZW1vdmVEYXRhIiwibW9kZSIsImxhYmVsIiwidmlkZW9fbGluayIsInBvc3Rlcl9saW5rIiwicHJvZHVjZVRpbWUiLCJwcm9kdWNlX3RpbWUiLCJydW5UaW1lIiwicnVuX3RpbWUiLCJ2aWV3cyIsIm1vZGFsSW5pdCIsInNob3dDb25maXJtRGlhbG9nIiwiYWRtaW5fYXR0YWNoRXZlbnQiLCJtb2RhbFN1Ym1pdCIsIm1vZGFsQ2hlY2tWaWRlbyIsInBhZ2VOdW1iZXIiLCJmb3JFYWNoIiwib2JqZWN0IiwibW9kYWxWYWxpZGF0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInhociIsInZpZGVvIiwiaW1hZ2UiLCJleGlzdCIsImNiWWVzIiwiY2JObyIsIm9uIiwib2ZmIiwiaG9tZV9zZWFyY2hSZXNvdXJjZXMiLCJjcml0ZXJpYSIsImNvbnRhaW5lcklkIiwib3JkZXIiLCJob21lX2F0dGFjaFJlc291cmNlRXZlbnQiLCJob21lX2F0dGFjaEV2ZW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInNlYXJjaF9hdHRhY2hSZXNvdXJjZUV2ZW50Iiwic2VhcmNoX2F0dGFjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUErTUEsU0FBU0EsY0FDREMsRUFBRSxTQUFTQyxTQUFXQyxPQUFPQyxPQUFPQyxZQUFjSixFQUFFLGVBQWVDLFNBQVcsSUFDN0VELEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU0sU0FBUyxvQkFFNUVOLEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU8sWUFBWSxvQkFoTnRGLElBQUlDLEtBQU9BLFNBR1hBLEtBQUtDLE9BQVNELEtBQUtDLFNBQ1hDLElBQU9WLEVBQUUsUUFBUVcsT0FBUyxHQUMxQkMsTUFBU1osRUFBRSxVQUFVVyxPQUFTLEdBQzlCRSxTQUNJQyxHQUFNLG1CQUtsQk4sS0FBS08sU0FBV1AsS0FBS08sYUFHckJQLEtBQUtRLEtBQU9SLEtBQUtRLE9BQ1RILFNBQ0lJLEtBQVEsV0FDSmpCLEVBQUVRLEtBQUtDLE9BQU9JLFFBQVFDLElBQUlHLFFBRTlCQyxLQUFRLFdBQ0psQixFQUFFUSxLQUFLQyxPQUFPSSxRQUFRQyxJQUFJSSxTQUdsQ0MsTUFDSUMsS0FBUSxTQUFVQyxFQUFLQyxFQUFNQyxHQUN6QixPQUFPdkIsRUFBRXdCLE1BQ0xILElBQUtBLEVBQ0xJLEtBQU0sT0FDTkgsS0FBTUEsRUFDTkksWUFBYSxtREFDYkMsU0FBVSxPQUNWQyxRQUFTTCxVQUlyQk0sUUFDSUMsTUFBUyxTQUFVQyxHQUNmLElBQUlBLEVBQU1BLEdBQU8sdUhBQ2pCQyxNQUFNRCxL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LEdBQ3pCckQsTUFBTWUsZUFDUGYsTUFBTU0sUUFBUU4sTUFBTVEsVUFBWSxHQUNoQzJELFFBQVFDLElBQUksZ0JBQWlCcEUsTUFBTVEsV0FDbkNnRCw0QkFHUm5HLEVBQUUsWUFBWTJJLE1BQU0sU0FBVTNDLEdBQzFCLElBQUk4RCxJQUFlOUosRUFBRSxnQkFBZ0JXLE1BQ2xCLEdBQWZtSixHQUFvQkEsRUFBYW5ILE1BQU1XLGVBQ3ZDOUMsS0FBS1EsS0FBS2EsT0FBT0MsTUFBTSw2Q0FBK0NhLE1BQU1XLGlCQUdoRlgsTUFBTU0sUUFBUTZHLEdBQ2QzRCw0QkFwSFJuRyxFQUFFLFdBQ0UsR0FBd0IsVUFBcEJBLEVBQUUsU0FBU1csTUFDWCxPQUFPLEVBR1h5SyxxQkFDQWpGLDJCQU1KLElBQUl4RCxNQUFRbkMsS0FBS1EsS0FBSzJCIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBHbG9iYWwgc2V0dGluZ3NcclxuICogKi9cclxudmFyIG1pYm8gPSBtaWJvIHx8IHt9O1xyXG5cclxuLy8gQ29uZmlnXHJcbm1pYm8uY29uZmlnID0gbWliby5jb25maWcgfHwge1xyXG4gICAgICAgICdBUEknOiAkKCcjYXBpJykudmFsKCkgfHwgJycsXHJcbiAgICAgICAgJ1RPS0VOJzogJCgnI3Rva2VuJykudmFsKCkgfHwgJycsXHJcbiAgICAgICAgJ2xvYWRpbmcnOiB7XHJcbiAgICAgICAgICAgICdpZCc6ICcjbG9hZGluZ19wYW5lbCdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gUHJvbWlzZSBxdWV1ZVxyXG5taWJvLnByb21pc2VxID0gbWliby5wcm9taXNlcSB8fCB7fTtcclxuXHJcbi8vIFV0aWxcclxubWliby51dGlsID0gbWliby51dGlsIHx8IHtcclxuICAgICAgICAnbG9hZGluZyc6IHtcclxuICAgICAgICAgICAgJ3Nob3cnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKG1pYm8uY29uZmlnLmxvYWRpbmcuaWQpLnNob3coKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2hpZGUnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKG1pYm8uY29uZmlnLmxvYWRpbmcuaWQpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2h0dHAnOiB7XHJcbiAgICAgICAgICAgICdwb3N0JzogZnVuY3Rpb24gKHVybCwgZGF0YSwgaGVhZGVyT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyT3B0aW9ucyB8fCB7fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICdzeXN0ZW0nOiB7XHJcbiAgICAgICAgICAgICdlcnJvcic6IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBtc2cgfHwgJ1lvdSBzZWVtcyB0byBtZWV0IHVwIGEgc3lzdGVtIGVycm9yLiBJdCBpcyBhcHByZWNpYXRlZCBpZiB5b3UgY2FuIHNlbmQgYW4gZW1haWwgdG8gdXMgdmlhOiByaGlub3N0dWRpbzIwMTdAZ21haWwuY29tJztcclxuICAgICAgICAgICAgICAgIGFsZXJ0KG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICdmb3JtYXQnOiB7XHJcbiAgICAgICAgICAgICdudW1iZXIya3ZpZXcnOiBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyTnVtYmVyID0gbnVtYmVyICsgJycsIHN0ckxlbmd0aCA9IHN0ck51bWJlci5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyTGVuZ3RoIDw9IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHN0clZpZXcgPSAnJywgc3RhcnQgPSAzLCBlbmQ7XHJcbiAgICAgICAgICAgICAgICBzdHJWaWV3ID0gJywnICsgc3RyTnVtYmVyLnNsaWNlKC1zdGFydCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnQgPCBzdHJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSAtc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgKz0gMztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPiBzdHJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdHJMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0clZpZXcgPSAnLCcgKyBzdHJOdW1iZXIuc2xpY2UoLXN0YXJ0LCBlbmQpICsgc3RyVmlldztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0clZpZXcgPSBzdHJWaWV3LnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0clZpZXc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICdwYWdlcic6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gUGFnZXIoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBhZ2UgPSAxLCB0b3RhbFBhZ2UgPSAxLCB0b3RhbEl0ZW0gPSAwLCBpdGVtQ291bnQgPSAxMCwgaXRlbVN0YXJ0ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFnZSA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFBhZ2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAocGFnZUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlID0gcGFnZUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPCB0b3RhbFBhZ2UgJiYgY3VycmVudFBhZ2UrKztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA+IDEgJiYgY3VycmVudFBhZ2UtLTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmlyc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZSA9PSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xhc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZSA9PSB0b3RhbFBhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEl0ZW1Db3VudCA9IGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudCA9IGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJdGVtQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1Db3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG90YWxJdGVtID0gZnVuY3Rpb24gKGl0ZW1OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbEl0ZW0gPSBpdGVtTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VG90YWxQYWdlKE1hdGguZmxvb3IodG90YWxJdGVtIC8gaXRlbUNvdW50KSArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJdGVtU3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50UGFnZSAtIDEpICogaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhZ2VyKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZm9ybSc6IHtcclxuICAgICAgICAgICAgJ3Bvc3QnOiBmdW5jdGlvbiAodXJsLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgICAgICAgICAgICAgIGZvcm0udGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgICAgICBmb3JtLm1ldGhvZCA9ICdQT1NUJztcclxuICAgICAgICAgICAgICAgIGZvcm0uYWN0aW9uID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcclxuICAgICAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZvcm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbm1pYm8ubW9kYWwgPSBtaWJvLm1vZGFsIHx8IHtcclxuICAgICAgICAncmVzb3VyY2UnOiB7XHJcbiAgICAgICAgICAgICd2aWRlb0xpbmsnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdwb3N0ZXJMaW5rJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICduYW1lJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTI4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyNTY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdhdXRob3InOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3ZlbnVlJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdub3RlJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTI4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAndXNlcic6IHtcclxuICAgICAgICAgICAgJ3VzZXJuYW1lJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdwYXNzd29yZCc6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZW1haWwnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4vKlxyXG4gKiBDb21tb24gaW5pdGlhbGl6YXRpb25cclxuICogKi9cclxuLypcclxuIChmdW5jdGlvbiAoKSB7XHJcbiAvLyBTdGlreSBmb290ZXJcclxuIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQsICQoJy5wYWdlJykuaGVpZ2h0KCksICQoJy5kaXYtZm9vdGVyJykuaGVpZ2h0KCksICdsb2FkaW5nLi4nKTtcclxuICQod2luZG93KS5sb2FkKGZ1bmN0aW9uICgpIHtcclxuIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQsICQoJy5wYWdlJykuaGVpZ2h0KCksICQoJy5kaXYtZm9vdGVyJykuaGVpZ2h0KCkpO1xyXG4gaWYgKCQoJy5wYWdlJykuaGVpZ2h0KCkgPCB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gJCgnLmRpdi1mb290ZXInKS5oZWlnaHQoKSAtIDU2KSB7XHJcbiAkKCcuZGl2LWZvb3RlcicpLmhhc0NsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJykgJiYgJCgnLmRpdi1mb290ZXInKS5hZGRDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpO1xyXG4gfSBlbHNlIHtcclxuICQoJy5kaXYtZm9vdGVyJykuaGFzQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKSAmJiAkKCcuZGl2LWZvb3RlcicpLnJlbW92ZUNsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJyk7XHJcbiB9XHJcbiB9KTtcclxuIH0pKCk7XHJcbiAqL1xyXG4vLyBTdGlreSBmb290ZXJcclxuZnVuY3Rpb24gc3Rpa3lGb290ZXIoKSB7XHJcbiAgICBpZiAoJCgnLnBhZ2UnKS5oZWlnaHQoKSA8IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSAkKCcuZGl2LWZvb3RlcicpLmhlaWdodCgpIC0gNTYpIHtcclxuICAgICAgICAhJCgnLmRpdi1mb290ZXInKS5oYXNDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpICYmICQoJy5kaXYtZm9vdGVyJykuYWRkQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLmRpdi1mb290ZXInKS5oYXNDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpICYmICQoJy5kaXYtZm9vdGVyJykucmVtb3ZlQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKTtcclxuICAgIH1cclxufVxyXG5cclxuJCh3aW5kb3cpLmJpbmQoJ2xvYWQnLCBzdGlreUZvb3Rlcik7XHJcblxyXG4vLyBTZWFyY2ggZm9ybVxyXG4kKCcjZm9ybV9zZWFyY2gnKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBwYWdlID0gJCgnI3BhZ2UnKS52YWwoKTtcclxuICAgIGlmIChwYWdlID09ICdhZG1pbicpIHtcclxuICAgICAgICAgdHlwZW9mIGFkbWluX2ZldGNoUmVzb3VyY2VzID09ICdmdW5jdGlvbicgJiYgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgIH0gZWxzZSBpZiAocGFnZSA9PSAnc2VhcmNoJykge1xyXG4gICAgICAgICQoJyNrZXl3b3JkJykudmFsKCQoJyNzZWFyY2hfdGV4dCcpLnZhbCgpKTtcclxuICAgICAgICB0eXBlb2YgcGFnZXIgPT0gJ29iamVjdCcgJiYgcGFnZXIuc2V0UGFnZSgxKTtcclxuICAgICAgICB0eXBlb2Ygc2VhcmNoX3NlYXJjaFJlc291cmNlcyA9PSAnZnVuY3Rpb24nICYmIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7fSwgdXJsID0gJy9zZWFyY2gnO1xyXG4gICAgICAgIGRhdGEua2V5d29yZCA9ICQoJyNzZWFyY2hfdGV4dCcpLnZhbCgpO1xyXG4gICAgICAgIG1pYm8udXRpbC5mb3JtLnBvc3QodXJsLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbn0pOyIsIi8vIEluaXRpYWxpemF0aW9uXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyNwYWdlJykudmFsKCkgIT0gJ2FkbWluJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIEluaXRpYWxpemF0aW9uXHJcbiAgICBpZiAoJCgnI2Zvcm1fbG9naW4nKS5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIGFkbWluX2Zvcm1BdHRhY2hFdmVudCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhZG1pbl9hdHRhY2hFdmVudCgpO1xyXG4gICAgICAgIGFkbWluX2ZldGNoUmVzb3VyY2VzKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLypcclxuICogQWRtaW4tTG9naW5cclxuICogKi9cclxuZnVuY3Rpb24gYWRtaW5fZm9ybUF0dGFjaEV2ZW50KCkge1xyXG4gICAgLy8gRm9ybSBldmVudFxyXG4gICAgJCgnI2Zvcm1fbG9naW4nKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHZhbGlkYXRlID0gYWRtaW5fZm9ybVZhbGlkYXRlKCk7XHJcbiAgICAgICAgaWYgKHZhbGlkYXRlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IodmFsaWRhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBsb2dpbiB2aWEgYXBpXHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgICAgICBkYXRhLnRva2VuID0gZGF0YS50b2tlbiB8fCBtaWJvLmNvbmZpZy5UT0tFTjtcclxuICAgICAgICBkYXRhLnVzZXJuYW1lID0gJCgnI3VzZXJuYW1lJykudmFsKCk7XHJcbiAgICAgICAgZGF0YS5wYXNzd29yZCA9ICQoJyNwYXNzd29yZCcpLnZhbCgpO1xyXG4gICAgICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICd1c2VyL2xvZ2luJywgZGF0YSk7XHJcbiAgICAgICAgbWliby5wcm9taXNlcS5hZG1pbl91c2VyX2xvZ2luID0gYWpwO1xyXG4gICAgICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCByZXNvdXJjZSB0Ym9keVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdXNlcm5hbWUsICNwYXNzd29yZCcpLmFkZENsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcihkYXRhLnJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbic7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZvY3VzIGV2ZW50c1xyXG4gICAgJCgnI3VzZXJuYW1lLCAjcGFzc3dvcmQnKS5mb2N1cyhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyN1c2VybmFtZScpLmhhc0NsYXNzKCdjb2xvci1lcnJvcicpICYmICQoJyN1c2VybmFtZScpLnJlbW92ZUNsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgICQoJyNwYXNzd29yZCcpLmhhc0NsYXNzKCdjb2xvci1lcnJvcicpICYmICQoJyNwYXNzd29yZCcpLnJlbW92ZUNsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkbWluX2Zvcm1WYWxpZGF0ZSgpIHtcclxuICAgIHZhciB1c2VybmFtZSA9ICQoJyN1c2VybmFtZScpLnZhbCgpLCBwYXNzd29yZCA9ICQoJyNwYXNzd29yZCcpLnZhbCgpLCBmbGFnID0gMTtcclxuICAgIGlmICh1c2VybmFtZS50cmltKCkgPT0gJycgfHwgdXNlcm5hbWUudHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwudXNlci51c2VybmFtZS5sZW5ndGgoKSkge1xyXG4gICAgICAgICQoJyN1c2VybmFtZScpLmFkZENsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgIHJldHVybiAnVXNlcm5hbWUgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC51c2VyLnVzZXJuYW1lLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhc3N3b3JkLnRyaW0oKSA9PSAnJyB8fCBwYXNzd29yZC50cmltKCkubGVuZ3RoID4gbWliby5tb2RhbC51c2VyLnBhc3N3b3JkLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgJCgnI3Bhc3N3b3JkJykuYWRkQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgcmV0dXJuICdQYXNzd29yZCBjYW5ub3QgYmUgZW1wdHksIGFuZCB0aGUgbGVuZ3RoIG11c3QgbGVzcyB0aGFuICcgKyBtaWJvLm1vZGFsLnVzZXIucGFzc3dvcmQubGVuZ3RoKCkgKyAnLic7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHJlZ2V4cCA9IC9bYS16QS1aMC05X10rLztcclxuICAgIGlmICghcmVnZXhwLnRlc3QodXNlcm5hbWUpKSB7XHJcbiAgICAgICAgJCgnI3VzZXJuYW1lJykuYWRkQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgcmV0dXJuICdVc2VybmFtZSBtdXN0IG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzLCBudW1iZXJzIGFuZCB1bmRlcnNjb3JlLic7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJlZ2V4cC50ZXN0KHBhc3N3b3JkKSkge1xyXG4gICAgICAgICQoJyNwYXNzd29yZCcpLmFkZENsYXNzKCdjb2xvci1lcnJvcicpO1xyXG4gICAgICAgIHJldHVybiAnUGFzc3dvcmQgbXVzdCBvbmx5IGNvbnRhaW4gY2hhcmFjdGVycywgbnVtYmVycyBhbmQgdW5kZXJzY29yZS4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qXHJcbiAqIEFkbWluLUNvbnRlbnRcclxuICogKi9cclxudmFyIHBhZ2VyID0gbWliby51dGlsLnBhZ2VyKCk7XHJcblxyXG4vLyBSZXRyaWV2ZSByZXNvdXJjZXMgdmlhIGFwaVxyXG5mdW5jdGlvbiBhZG1pbl9mZXRjaFJlc291cmNlcygpIHtcclxuICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS5vZmZzZXQgPSBwYWdlci5nZXRJdGVtU3RhcnQoKTtcclxuICAgIGRhdGEubGltaXQgPSBwYWdlci5nZXRJdGVtQ291bnQoKTtcclxuICAgIGRhdGEua2V5d29yZCA9ICQoJyNzZWFyY2hfdGV4dCcpLnZhbCgpLnRyaW0oKSB8fCAnJztcclxuICAgIHZhciBhanAgPSBtaWJvLnV0aWwuaHR0cC5wb3N0KG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9mZXRjaCcsIGRhdGEpO1xyXG4gICAgbWliby5wcm9taXNlcS5hZG1pbl9yZXNvdXJjZV9mZXRjaCA9IGFqcDtcclxuICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAvLyBDb25zdHJ1Y3QgcmVzb3VyY2UgdGJvZHlcclxuICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcihkYXRhLnJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXNvdXJjZVRCb2R5ID0gJCgnI3Rib2R5X3Jlc291cmNlJykuZW1wdHkoKSwgaHRtbDtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzKSB7XHJcbiAgICAgICAgICAgIGh0bWwgPSBbXTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dHIgaWQ9XCInLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnaWQnXSwgJ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8aW1nIGNsYXNzPVwiaW1nLWljb25cIiBzcmM9XCInLCBkZWNvZGVVUklDb21wb25lbnQoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3Bvc3Rlcl9saW5rJ10pLCAnXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQ+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2Rlc2NyaXB0aW9uJ10sICc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZD4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncHJvZHVjZV90aW1lJ10sICc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeVwiIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrO1wiIGZpcmU9XCJlZGl0XCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGkgY2xhc3M9XCJmYSBmYS1yZW1vdmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHNwYW4gY2xhc3M9XCJ0YmwtY29sLWJ1dHRvbnMtdGV4dFwiPiZuYnNwO0VkaXQ8L3NwYW4+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC9idXR0b24+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRhbmdlciByaWdodFwiIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrO1wiIGZpcmU9XCJkZWxldGVcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8c3BhbiBjbGFzcz1cInRibC1jb2wtYnV0dG9ucy10ZXh0XCI+Jm5ic3A7RGVsZXRlPC9zcGFuPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90cj4nKTtcclxuICAgICAgICAgICAgJChodG1sLmpvaW4oJycpKS5kYXRhKGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdKS5hcHBlbmRUbyhyZXNvdXJjZVRCb2R5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRtaW5fYXR0YWNoUmVzb3VyY2VFdmVudCgpO1xyXG4gICAgICAgIC8vIFBhZ2luYXRpb24gcmUtc2V0dGluZ3NcclxuICAgICAgICBwYWdlci5zZXRUb3RhbEl0ZW0oZGF0YS5yZXNwb25zZS5kYXRhLnRvdGFsUm93Q291bnQpO1xyXG4gICAgICAgICQoJyNwYWdlX3RvdGFsJykuaHRtbChwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgJCgnI3BhZ2VfbnVtYmVyJykudmFsKCcnKTtcclxuICAgICAgICAkKCcjcGFnZV9hY3RpdmUnKS5odG1sKHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgaWYgKHBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfcHJldmlvdXMnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9wcmV2aW91cycpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICEkKCcjcGFnZV9wcmV2aW91cycpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX3ByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWdlci5pc0xhc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAhJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3Rpa3kgZm9vdGVyXHJcbiAgICAgICAgc3Rpa3lGb290ZXIoKTtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRtaW5fYXR0YWNoUmVzb3VyY2VFdmVudCgpIHtcclxuICAgICQoJyN0Ym9keV9yZXNvdXJjZSB0cicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAkdHIgPSAkKHRoaXMpO1xyXG4gICAgICAgICR0ci5maW5kKCdidXR0b24nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAkYnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGJ1dHRvbi5hdHRyKCdmaXJlJykgPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VkaXQuLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYWNrZHJvcCc6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2hvdyc6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXREYXRhID0gJHRyLmRhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykucmVtb3ZlRGF0YSgnbW9kZScpLnJlbW92ZURhdGEoJ2xhYmVsJykucmVtb3ZlRGF0YSgnZGF0YScpLmRhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9kZSc6ICdlZGl0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xhYmVsJzogJ0VkaXQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IGVkaXREYXRhLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZpZGVvTGluayc6IGRlY29kZVVSSUNvbXBvbmVudChlZGl0RGF0YS52aWRlb19saW5rKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwb3N0ZXJMaW5rJzogZGVjb2RlVVJJQ29tcG9uZW50KGVkaXREYXRhLnBvc3Rlcl9saW5rKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogZWRpdERhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGVkaXREYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dGhvcic6IGVkaXREYXRhLmF1dGhvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9kdWNlVGltZSc6IGVkaXREYXRhLnByb2R1Y2VfdGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdydW5UaW1lJzogZWRpdERhdGEucnVuX3RpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlld3MnOiBlZGl0RGF0YS52aWV3cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW51ZSc6IGVkaXREYXRhLnZlbnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoJ3Nob3cnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uYXR0cignZmlyZScpID09ICdkZWxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNiX2RlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gJHRyLmRhdGEoKS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3Jlc291cmNlL3JlbW92ZScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWJvLnByb21pc2VxLmFkbWluX3VzZXJfbG9naW4gPSBhanA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybURpYWxvZygnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZT8nLCBjYl9kZWxldGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZG1pbl9hdHRhY2hFdmVudCgpIHtcclxuICAgIC8vIExvZ291dCBsaW5rXHJcbiAgICAkKCcjbGlua19sb2dvdXQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICB2YXIgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAgICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICAgICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3VzZXIvbG9nb3V0JywgZGF0YSk7XHJcbiAgICAgICAgbWliby5wcm9taXNlcS5hZG1pbl91c2VyX2xvZ2luID0gYWpwO1xyXG4gICAgICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCByZXNvdXJjZSB0Ym9keVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluJztcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVzb3VyY2UgYWRkIGJ1dHRvblxyXG4gICAgJCgnI3Jlc291cmNlX2FkZCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKHtcclxuICAgICAgICAgICAgJ2JhY2tkcm9wJzogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICdzaG93JzogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykucmVtb3ZlRGF0YSgnbW9kZScpLnJlbW92ZURhdGEoJ2xhYmVsJykucmVtb3ZlRGF0YSgnZGF0YScpLmRhdGEoe1xyXG4gICAgICAgICAgICAnbW9kZSc6ICdhZGQnLFxyXG4gICAgICAgICAgICAnbGFiZWwnOiAnQWRkJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1vZGFsSW5pdCgpO1xyXG4gICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTW9kYWwgZGlhbG9nIGZvY3VzXHJcbiAgICAkKCcjcmVzb3VyY2VfZGlhbG9nIGlucHV0JykuZm9jdXMoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5oaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNb2RhbCBzdWJtaXQgYnV0dG9uXHJcbiAgICAkKCcjbW9kYWxfc2F2ZScpLmNsaWNrKG1vZGFsU3VibWl0KTtcclxuXHJcbiAgICAvLyBNb2RhbCBjaGVjayB2aWRlbyBidXR0b25cclxuICAgICQoJyNtb2RhbF9jaGVjaycpLmNsaWNrKG1vZGFsQ2hlY2tWaWRlbyk7XHJcblxyXG4gICAgLy8gUGFnaW5hdGlvbiBidXR0b25zXHJcbiAgICAkKCcjcGFnZV9wcmV2aW91cyBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlci5nZXRQYWdlKCkgLSAxKTtcclxuICAgICAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJyNwYWdlX25leHQgYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCFwYWdlci5pc0xhc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlci5nZXRQYWdlKCkgKyAxKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RhcmdldCBwYWdlOiAnLCBwYWdlci5nZXRQYWdlKCkpO1xyXG4gICAgICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI3BhZ2VfZ28nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBwYWdlTnVtYmVyID0gfn4kKCcjcGFnZV9udW1iZXInKS52YWwoKTtcclxuICAgICAgICBpZiAocGFnZU51bWJlciA9PSAwIHx8IHBhZ2VOdW1iZXIgPiBwYWdlci5nZXRUb3RhbFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCdQbGVhc2UgaW5wdXQgYW4gcGFnZSBudW1iZXIgYmV0d2VlbiAxIGFuZCAnICsgcGFnZXIuZ2V0VG90YWxQYWdlKCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZ2VyLnNldFBhZ2UocGFnZU51bWJlcik7XHJcbiAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBNb2RhbCBkaWFsb2cgaW5pdGlhbGl6ZVxyXG5mdW5jdGlvbiBtb2RhbEluaXQoKSB7XHJcbiAgICB2YXIgZGF0YSA9ICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5kYXRhKCk7XHJcbiAgICAkKCcjcmVzb3VyY2VfZGlhbG9nIC5tb2RhbC10aXRsZScpLmh0bWwoZGF0YVsnbGFiZWwnXSk7XHJcbiAgICBpZiAoZGF0YVsnbW9kZSddID09ICdhZGQnKSB7XHJcbiAgICAgICAgLy8gRm9yIGFkZCBtb2RlXHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZyBpbnB1dCcpLnZhbCgnJyk7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZyBpbnB1dCNpcHRfbmFtZScpLnZhbCgnQ2hpbmVzZSBob21lbWFkZSB2aWRlbycpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhWydtb2RlJ10gPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgLy8gRm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgeydrZXknOiAndmlkZW9MaW5rJywgJ2xhYmVsJzogJ2lwdF92X3VybCd9LCB7J2tleSc6ICdwb3N0ZXJMaW5rJywgJ2xhYmVsJzogJ2lwdF9pX3VybCd9LFxyXG4gICAgICAgICAgICB7J2tleSc6ICduYW1lJywgJ2xhYmVsJzogJ2lwdF9uYW1lJ30sIHsna2V5JzogJ2Rlc2NyaXB0aW9uJywgJ2xhYmVsJzogJ2lwdF9kZXNjcmlwdGlvbid9LFxyXG4gICAgICAgICAgICB7J2tleSc6ICdhdXRob3InLCAnbGFiZWwnOiAnaXB0X2F1dGhvcid9LCB7J2tleSc6ICdwcm9kdWNlVGltZScsICdsYWJlbCc6ICdpcHRfcHJvZHVjZVRpbWUnfSxcclxuICAgICAgICAgICAgeydrZXknOiAncnVuVGltZScsICdsYWJlbCc6ICdpcHRfcnVuVGltZSd9LCB7J2tleSc6ICd2aWV3cycsICdsYWJlbCc6ICdpcHRfdmlld3MnfSxcclxuICAgICAgICAgICAgeydrZXknOiAndmVudWUnLCAnbGFiZWwnOiAnaXB0X3ZlbnVlJ31cclxuICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBkYXRhWydkYXRhJ11bb2JqZWN0WydrZXknXV0gJiYgJCgnIycgKyBvYmplY3RbJ2xhYmVsJ10pLnZhbChkYXRhWydkYXRhJ11bb2JqZWN0WydrZXknXV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIE1vZGFsIGRpYWxvZyBzdWJtaXRcclxuZnVuY3Rpb24gbW9kYWxTdWJtaXQoKSB7XHJcbiAgICB2YXIgdmFsaWRhdGUgPSBtb2RhbFZhbGlkYXRlKCk7XHJcbiAgICBpZiAodmFsaWRhdGUgIT09IHRydWUpIHtcclxuICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5zaG93KCkuZmluZCgnbGFiZWwnKS5odG1sKHZhbGlkYXRlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNiX2FkZF9lZGl0X3llcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCh7J2JhY2tkcm9wJzonc3RhdGljJ30pO1xyXG4gICAgICAgIHZhciBtb2RlID0gJCgnI3Jlc291cmNlX2RpYWxvZycpLmRhdGEoJ21vZGUnKSwgZGF0YSA9ICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5kYXRhKCdkYXRhJykgfHwge30sIHVybDtcclxuICAgICAgICBpZiAobW9kZSA9PSAnYWRkJykge1xyXG4gICAgICAgICAgICB1cmwgPSBtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvYWRkJztcclxuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICAgIHVybCA9IG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9lZGl0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2F2ZSByZXNvdXJjZSB2aWEgYXBpXHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgICAgIGRhdGEudmlkZW9MaW5rID0gZW5jb2RlVVJJQ29tcG9uZW50KCQoJyNpcHRfdl91cmwnKS52YWwoKS50cmltKCkpO1xyXG4gICAgICAgIGRhdGEucG9zdGVyTGluayA9IGVuY29kZVVSSUNvbXBvbmVudCgkKCcjaXB0X2lfdXJsJykudmFsKCkudHJpbSgpKTtcclxuICAgICAgICBkYXRhLm5hbWUgPSAkKCcjaXB0X25hbWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9ICQoJyNpcHRfZGVzY3JpcHRpb24nKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS5hdXRob3IgPSAkKCcjaXB0X2F1dGhvcicpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnByb2R1Y2VUaW1lID0gJCgnI2lwdF9wcm9kdWNlVGltZScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnJ1blRpbWUgPSAkKCcjaXB0X3J1blRpbWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS52aWV3cyA9ICQoJyNpcHRfdmlld3MnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS52ZW51ZSA9ICQoJyNpcHRfdmVudWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QodXJsLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnByb21pc2VxLmFkbWluX3VzZXJfbG9naW4gPSBhanA7XHJcbiAgICAgICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNtb2RhbC1lcnJvcicpLnNob3coKS5maW5kKCdsYWJlbCcpLmh0bWwoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcignU3RhdHVzOiAnICsgc3RhdHVzICsgJzxicj5NZXNzYWdlOiAnICsgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgY2JfYWRkX2VkaXRfbm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKHsnYmFja2Ryb3AnOiAnc3RhdGljJ30pO1xyXG4gICAgfTtcclxuICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgc2hvd0NvbmZpcm1EaWFsb2coJ0FyZSB5b3Ugc3VyZSB0byBzYXZlPycsIGNiX2FkZF9lZGl0X3llcywgY2JfYWRkX2VkaXRfbm8pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbW9kYWxWYWxpZGF0ZSgpIHtcclxuICAgIHZhciB2aWRlbyA9ICQoJyNpcHRfdl91cmwnKS52YWwoKSwgaW1hZ2UgPSAkKCcjaXB0X2lfdXJsJykudmFsKCksIG5hbWUgPSAkKCcjaXB0X25hbWUnKS52YWwoKSwgZmxhZyA9IDE7XHJcbiAgICBpZiAodmlkZW8udHJpbSgpID09ICcnIHx8IHZpZGVvLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnJlc291cmNlLnZpZGVvTGluay5sZW5ndGgoKSkge1xyXG4gICAgICAgIHJldHVybiAnVmlkZW8gVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgaWYgKGltYWdlLnRyaW0oKSA9PSAnJyB8fCBpbWFnZS50cmltKCkubGVuZ3RoID4gbWliby5tb2RhbC5yZXNvdXJjZS5wb3N0ZXJMaW5rLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgcmV0dXJuICdQb3N0ZXIgVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UucG9zdGVyTGluay5sZW5ndGgoKSArICcuJztcclxuICAgIH1cclxuICAgIGlmIChuYW1lLnRyaW0oKSA9PSAnJyB8fCBuYW1lLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnJlc291cmNlLm5hbWUubGVuZ3RoKCkpIHtcclxuICAgICAgICByZXR1cm4gJ1ZpZGVvIG5hbWUgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC5yZXNvdXJjZS5uYW1lLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vZGFsQ2hlY2tWaWRlbygpIHtcclxuICAgIHZhciB2aWRlbyA9ICQoJyNpcHRfdl91cmwnKS52YWwoKTtcclxuICAgIGlmICh2aWRlby50cmltKCkgPT0gJycgfHwgdmlkZW8udHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcignVmlkZW8gVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpICsgJy4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayB2aWRlbyBVUkwgZXhpc3RlbmNlIHZpYSBhcGlcclxuICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS52aWRlb0xpbmsgPSAkKCcjaXB0X3ZfdXJsJykudmFsKCk7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZXhpc3QnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5zaG93KCkuZmluZCgnbGFiZWwnKS5odG1sKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkYXRhLnJlc3BvbnNlLmRhdGEuZXhpc3QgPyAnVGhlIHZpZGVvIFVSTCBoYXMgZXhpc3RlZCwgcGxlYXNlIHRyeSBhbm90aGVyIG9uZS4nIDogJzxzcGFuIGNsYXNzPVwidGV4dC1zdWNjZXNzXCI+VGhlIHZpZGVvIFVSTCBkbyBOT1QgZXhpc3QsIGNhbiBjb250aW51ZSB0byBhZGQuPC9zcGFuPic7XHJcbiAgICAgICAgJCgnI21vZGFsLWVycm9yJykuc2hvdygpLmZpbmQoJ2xhYmVsJykuaHRtbChtZXNzYWdlKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBDb25maXJtIGRpYWxvZ1xyXG5mdW5jdGlvbiBzaG93Q29uZmlybURpYWxvZyhtZXNzYWdlLCBjYlllcywgY2JObykge1xyXG4gICAgJCgnI2NvbmZpcm1fZGlhbG9nJykubW9kYWwoeydiYWNrZHJvcCc6ICdzdGF0aWMnLCAnc2hvdyc6IGZhbHNlfSk7XHJcbiAgICAkKCcjY29uZmlybV9kaWFsb2cgLm1vZGFsLWJvZHkgbGFiZWwnKS5odG1sKG1lc3NhZ2UpO1xyXG4gICAgJCgnI2NvbmZpcm1feWVzJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjY29uZmlybV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICQoJyNtb2RhbC1lcnJvcicpLmhpZGUoKTtcclxuICAgICAgICBjYlllcyAmJiBjYlllcygpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjY29uZmlybV9ubycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI2NvbmZpcm1fZGlhbG9nJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICBjYk5vICYmIGNiTm8oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2NvbmZpcm1fZGlhbG9nJykub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNjb25maXJtX3llcycpLm9mZigpO1xyXG4gICAgICAgICQoJyNjb25maXJtX25vJykub2ZmKCk7XHJcbiAgICB9KS5tb2RhbCgnc2hvdycpO1xyXG59XHJcbiIsIi8vIEluaXRpYWxpemF0aW9uXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyNwYWdlJykudmFsKCkgIT0gJ2hvbWUnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cclxuICAgIGhvbWVfYXR0YWNoRXZlbnQoKTtcclxuICAgIGhvbWVfc2VhcmNoUmVzb3VyY2VzKHt9LCAnaF9uX3Rib2R5Jyk7XHJcbiAgICBob21lX3NlYXJjaFJlc291cmNlcyh7J29yZGVyJzondmlld3MnfSwgJ2hfdF90Ym9keScpO1xyXG59KTtcclxuXHJcbi8qXHJcbiAqIEhvbWUtQ29udGVudFxyXG4gKiAqL1xyXG5cclxuLy8gUmV0cmlldmUgcmVzb3VyY2VzIHZpYSBhcGlcclxuZnVuY3Rpb24gaG9tZV9zZWFyY2hSZXNvdXJjZXMoY3JpdGVyaWEsIGNvbnRhaW5lcklkKSB7XHJcbiAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS5vZmZzZXQgPSBjcml0ZXJpYS5vZmZzZXQgfHwgMDtcclxuICAgIGRhdGEubGltaXQgPSBjcml0ZXJpYS5saW1pdCB8fCAxMDtcclxuICAgIGRhdGEua2V5d29yZCA9IGNyaXRlcmlhLmtleXdvcmQgfHwgbnVsbDtcclxuICAgIGRhdGEub3JkZXIgPSBjcml0ZXJpYS5vcmRlciB8fCBudWxsO1xyXG4gICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3Jlc291cmNlL2ZldGNoJywgZGF0YSk7XHJcbiAgICBtaWJvLnByb21pc2VxLmFkbWluX3Jlc291cmNlX2ZldGNoID0gYWpwO1xyXG4gICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgIC8vIENvbnN0cnVjdCByZXNvdXJjZSB0Ym9keVxyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc291cmNlVEJvZHkgPSAkKCcjJyArIGNvbnRhaW5lcklkKS5lbXB0eSgpLCBodG1sO1xyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoJzx0cj48dGQ+PHA+VGhlcmUgaXMgbm8gcmVzdWx0IGJhc2VkIG9uIHlvdXIgc2VhcmNoIGtleXdvcmQuLi48L3A+PC90ZD48L3RyPicpLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhLnJlc3BvbnNlLmRhdGEucm93cykge1xyXG4gICAgICAgICAgICBodG1sID0gW107XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyIGlkPVwiJywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2lkJ10sICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLWltZ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpbWcgY2xhc3M9XCJpbWctaWNvblwiIHNyYz1cIicsIGRlY29kZVVSSUNvbXBvbmVudChkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncG9zdGVyX2xpbmsnXSksICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtYXV0aG9yXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnbmFtZSddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxwIGNsYXNzPVwidGQtcm93XCI+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2F1dGhvciddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC10aW1lXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncHJvZHVjZV90aW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCAnPGkgY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JywgbWliby51dGlsLmZvcm1hdC5udW1iZXIya3ZpZXcoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3ZpZXdzJ10pLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydkZXNjcmlwdGlvbiddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpO1xyXG4gICAgICAgICAgICAkKGh0bWwuam9pbignJykpLmRhdGEoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF0pLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBob21lX2F0dGFjaFJlc291cmNlRXZlbnQoKTtcclxuICAgICAgICAvLyBTdGlreSBmb290ZXJcclxuICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBob21lX2F0dGFjaFJlc291cmNlRXZlbnQoKSB7XHJcbiAgICAkKCcjaF9uX3Rib2R5IHRyLCAjaF90X3Rib2R5IHRyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoKSwgdXJsID0gJy9wbGF5JztcclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaG9tZV9hdHRhY2hFdmVudCgpIHtcclxuICAgIC8vIFZpZXcgbW9yZSBsaW5rXHJcbiAgICAkKCcjYnRuX21vcmVfbmV3X3BjLCAjYnRuX21vcmVfbmV3X21iLCAjYnRuX21vcmVfdG9wX3BjLCAjYnRuX21vcmVfdG9wX21iJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHt9LCB1cmwgPSAnL3NlYXJjaCc7XHJcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cigndHlwZScpID09ICd0b3AnKSB7XHJcbiAgICAgICAgICAgIGRhdGEub3JkZXIgPSAndmlld3MnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufSIsIi8vIEluaXRpYWxpemF0aW9uXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyNwYWdlJykudmFsKCkgIT0gJ3NlYXJjaCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBJbml0aWFsaXphdGlvblxyXG4gICAgc2VhcmNoX2F0dGFjaEV2ZW50KCk7XHJcbiAgICBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzKCk7XHJcbn0pO1xyXG5cclxuLypcclxuICogQWRtaW4tQ29udGVudFxyXG4gKiAqL1xyXG52YXIgcGFnZXIgPSBtaWJvLnV0aWwucGFnZXIoKTtcclxuXHJcbi8vIFJldHJpZXZlIHJlc291cmNlcyB2aWEgYXBpXHJcbmZ1bmN0aW9uIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKSB7XHJcbiAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS5vZmZzZXQgPSBwYWdlci5nZXRJdGVtU3RhcnQoKTtcclxuICAgIGRhdGEubGltaXQgPSBwYWdlci5nZXRJdGVtQ291bnQoKTtcclxuICAgIHZhciBzdGFydFRpbWUgPSAkKCcjc3RhcnRUaW1lJykudmFsKCksIGVuZFRpbWUgPSAkKCcjZW5kVGltZScpLnZhbCgpLFxyXG4gICAgICAgIGtleXdvcmQgPSAkKCcja2V5d29yZCcpLnZhbCgpLCBvcmRlciA9ICQoJyNvcmRlcicpLnZhbCgpO1xyXG4gICAgc3RhcnRUaW1lICYmIChkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZSk7XHJcbiAgICBlbmRUaW1lICYmIChkYXRhLmVuZFRpbWUgPSBlbmRUaW1lKTtcclxuICAgIGtleXdvcmQgJiYgKGRhdGEua2V5d29yZCA9IGtleXdvcmQpO1xyXG4gICAgb3JkZXIgJiYgKGRhdGEub3JkZXIgPSBvcmRlcik7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZmV0Y2gnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fcmVzb3VyY2VfZmV0Y2ggPSBhanA7XHJcbiAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzb3VyY2VUQm9keSA9ICQoJyNyZXN1bHRfdGJvZHknKS5lbXB0eSgpLCBodG1sO1xyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoJzx0cj48dGQ+PHA+VGhlcmUgaXMgbm8gcmVzdWx0IGJhc2VkIG9uIHlvdXIgc2VhcmNoIGtleXdvcmQuLi48L3A+PC90ZD48L3RyPicpLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhLnJlc3BvbnNlLmRhdGEucm93cykge1xyXG4gICAgICAgICAgICBodG1sID0gW107XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyIGlkPVwiJywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2lkJ10sICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLWltZ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpbWcgY2xhc3M9XCJpbWctaWNvblwiIHNyYz1cIicsIGRlY29kZVVSSUNvbXBvbmVudChkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncG9zdGVyX2xpbmsnXSksICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtYXV0aG9yXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnbmFtZSddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxwIGNsYXNzPVwidGQtcm93XCI+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2F1dGhvciddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC10aW1lXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncHJvZHVjZV90aW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCAnPGkgY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JywgbWliby51dGlsLmZvcm1hdC5udW1iZXIya3ZpZXcoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3ZpZXdzJ10pLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydkZXNjcmlwdGlvbiddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpO1xyXG4gICAgICAgICAgICAkKGh0bWwuam9pbignJykpLmRhdGEoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF0pLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWFyY2hfYXR0YWNoUmVzb3VyY2VFdmVudCgpO1xyXG4gICAgICAgIC8vIFBhZ2luYXRpb24gcmUtc2V0dGluZ3NcclxuICAgICAgICBwYWdlci5zZXRUb3RhbEl0ZW0oZGF0YS5yZXNwb25zZS5kYXRhLnRvdGFsUm93Q291bnQpO1xyXG4gICAgICAgICQoJyNwYWdlX3RvdGFsJykuaHRtbChwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgJCgnI3BhZ2VfbnVtYmVyJykudmFsKCcnKTtcclxuICAgICAgICAkKCcjcGFnZV9hY3RpdmUnKS5odG1sKHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgaWYgKHBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfcHJldmlvdXMnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9wcmV2aW91cycpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICEkKCcjcGFnZV9wcmV2aW91cycpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX3ByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWdlci5pc0xhc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAhJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3Rpa3kgZm9vdGVyXHJcbiAgICAgICAgc3Rpa3lGb290ZXIoKTtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoX2F0dGFjaFJlc291cmNlRXZlbnQoKSB7XHJcbiAgICAkKCcjcmVzdWx0X3Rib2R5IHRyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoKSwgdXJsID0gJy9wbGF5JztcclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoX2F0dGFjaEV2ZW50KCkge1xyXG4gICAgLy8gUGFnaW5hdGlvbiBidXR0b25zXHJcbiAgICAkKCcjcGFnZV9wcmV2aW91cyBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlci5nZXRQYWdlKCkgLSAxKTtcclxuICAgICAgICAgICAgc2VhcmNoX3NlYXJjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI3BhZ2VfbmV4dCBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzTGFzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VyLmdldFBhZ2UoKSArIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGFyZ2V0IHBhZ2U6ICcsIHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJyNwYWdlX2dvJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcGFnZU51bWJlciA9IH5+JCgnI3BhZ2VfbnVtYmVyJykudmFsKCk7XHJcbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgID09IDAgfHwgcGFnZU51bWJlciA+IHBhZ2VyLmdldFRvdGFsUGFnZSgpKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoJ1BsZWFzZSBpbnB1dCBhbiBwYWdlIG51bWJlciBiZXR3ZWVuIDEgYW5kICcgKyBwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlTnVtYmVyKTtcclxuICAgICAgICBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzKCk7XHJcbiAgICB9KTtcclxufSJdfQ==
