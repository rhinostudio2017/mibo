function stikyFooter(){$(".page").height()<window.screen.availHeight-$(".div-footer").height()-56?!$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").addClass("div-footer-fixed"):$(".div-footer").hasClass("div-footer-fixed")&&$(".div-footer").removeClass("div-footer-fixed")}var mibo=mibo||{};mibo.config=mibo.config||{API:$("#api").val()||"",TOKEN:$("#token").val()||"",loading:{id:"#loading_panel"}},mibo.promiseq=mibo.promiseq||{},mibo.util=mibo.util||{loading:{show:function(){$(mibo.config.loading.id).show()},hide:function(){$(mibo.config.loading.id).hide()}},http:{post:function(e,t,n){return $.ajax({url:e,type:"post",data:t,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",headers:n||{}})}},system:{error:function(e){var e=e||"You seems to meet up a system error. It is appreciated if you can send an email to us via: rhinostudio2017@gmail.com";alert(e)}},format:{number2kview:function(e){var t=e+"",n=t.length;if(n<=3)return e;var o,i="",r=3;for(i=","+t.slice(-r);r<n;)o=-r,(r+=3)>n&&(r=n),i=","+t.slice(-r,o)+i;return i=i.slice(1)}},pager:function(){return new function(){var e=1,t=1,n=0,o=10;this.setPage=function(t){e=t},this.getPage=function(){return e},this.setTotalPage=function(e){t=e},this.getTotalPage=function(){return t},this.increasePage=function(){e<t&&e++},this.decreasePage=function(){e>1&&e--},this.isFirstPage=function(){return 1==e},this.isLastPage=function(){return e==t},this.setItemCount=function(e){o=e},this.getItemCount=function(){return o},this.setTotalItem=function(e){n=e,this.setTotalPage(Math.floor(n/o)+1)},this.getItemStart=function(){return(e-1)*o}}},form:{post:function(e,t){var n=document.createElement("form");n.target="_blank",n.method="POST",n.action=e,n.style.display="none";for(var o in t){var i=document.createElement("input");i.type="text",i.name=o,i.value=t[o],n.appendChild(i)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}},mibo.modal=mibo.modal||{resource:{videoLink:{length:function(){return 128}},posterLink:{length:function(){return 64}},name:{length:function(){return 128}},description:{length:function(){return 256}},author:{length:function(){return 32}},venue:{length:function(){return 64}},note:{length:function(){return 128}}},user:{username:{length:function(){return 64}},password:{length:function(){return 64}},email:{length:function(){return 64}}}},$(window).bind("load",stikyFooter),$("#form_search").submit(function(e){e.preventDefault();var t=$("#page").val();if("admin"==t)"function"==typeof admin_fetchResources&&admin_fetchResources();else if("search"==t)$("#keyword").val($("#search_text").val()),"object"==typeof pager&&pager.setPage(1),"function"==typeof search_searchResources&&search_searchResources();else{var n={};n.keyword=$("#search_text").val(),mibo.util.form.post("/search",n)}});
function admin_formAttachEvent(){$("#form_login").submit(function(e){e.preventDefault();var o=admin_formValidate();if(!0===o){mibo.util.loading.show();var a=a||{};a.token=a.token||mibo.config.TOKEN,a.username=$("#username").val(),a.password=$("#password").val();var i=mibo.util.http.post(mibo.config.API+"user/login",a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return $("#username, #password").addClass("color-error"),mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}else mibo.util.system.error(o)}),$("#username, #password").focus(function(e){$("#username").hasClass("color-error")&&$("#username").removeClass("color-error"),$("#password").hasClass("color-error")&&$("#password").removeClass("color-error")})}function admin_formValidate(){var e=$("#username").val(),o=$("#password").val();if(""==e.trim()||e.trim().length>mibo.modal.user.username.length())return $("#username").addClass("color-error"),"Username cannot be empty, and the length must less than "+mibo.modal.user.username.length()+".";if(""==o.trim()||o.trim().length>mibo.modal.user.password.length())return $("#password").addClass("color-error"),"Password cannot be empty, and the length must less than "+mibo.modal.user.password.length()+".";var a=/[a-zA-Z0-9_]+/;return a.test(e)?!!a.test(o)||($("#password").addClass("color-error"),"Password must only contain characters, numbers and underscore."):($("#username").addClass("color-error"),"Username must only contain characters, numbers and underscore.")}function admin_fetchResources(){mibo.util.loading.show();var e=e||{};e.token=e.token||mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount(),e.keyword=$("#search_text").val().trim()||"";var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var i,t=$("#tbody_resource").empty();for(var r in e.response.data.rows)(i=[]).push('<tr id="',e.response.data.rows[r].id,'">'),i.push("<td>"),i.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[r].poster_link),'">'),i.push("</td>"),i.push("<td>",e.response.data.rows[r].description,"</td>"),i.push("<td>",e.response.data.rows[r].produce_time,"</td>"),i.push("<td>"),i.push('<button class="btn btn-sm btn-primary" style="display: inline-block;" fire="edit">'),i.push('<i class="fa fa-remove" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Edit</span>'),i.push("</button>"),i.push('<button class="btn btn-sm btn-danger right" style="display: inline-block;" fire="delete">'),i.push('<i class="fa fa-pencil" aria-hidden="true"></i>'),i.push('<span class="tbl-col-buttons-text">&nbsp;Delete</span>'),i.push("</button>"),i.push("</td>"),i.push("</tr>"),$(i.join("")).data(e.response.data.rows[r]).appendTo(t);admin_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function admin_attachResourceEvent(){$("#tbody_resource tr").each(function(){var e=$(this);e.find("button").each(function(){var o=$(this);o.click(function(a){if("edit"==o.attr("fire")){console.log("edit.."),$("#resource_dialog").modal({backdrop:"static",show:!1});var i=e.data();$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"edit",label:"Edit",data:{id:i.id,videoLink:decodeURIComponent(i.video_link),posterLink:decodeURIComponent(i.poster_link),name:i.name,description:i.description,author:i.author,produceTime:i.produce_time,runTime:i.run_time,views:i.views,venue:i.venue}}),modalInit(),$("#resource_dialog").modal("show")}else if("delete"==o.attr("fire")){showConfirmDialog("Are you sure to delete?",function(){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.id=e.data().id;var a=mibo.util.http.post(mibo.config.API+"resource/remove",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status?admin_fetchResources():mibo.util.system.error(e.response.message)}).fail(function(){mibo.util.system.error()})})}})})})}function admin_attachEvent(){$("#link_logout").click(function(e){mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN;var a=mibo.util.http.post(mibo.config.API+"user/logout",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){console.log("data",e),"success"!=e.response.status&&(mibo.util.loading.hide(),mibo.util.system.error()),mibo.util.loading.hide(),window.location.href="/admin"}).fail(function(){mibo.util.system.error()})}),$("#resource_add").click(function(e){$("#resource_dialog").modal({backdrop:"static",show:!1}),$("#resource_dialog").removeData("mode").removeData("label").removeData("data").data({mode:"add",label:"Add"}),modalInit(),$("#resource_dialog").modal("show")}),$("#resource_dialog input").focus(function(e){$("#modal-error").hide()}),$("#modal_save").click(modalSubmit),$("#modal_check").click(modalCheckVideo),$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),admin_fetchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),admin_fetchResources())}),$("#page_go").click(function(e){var o=~~$("#page_number").val();0==o||o>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(o),admin_fetchResources())})}function modalInit(){var e=$("#resource_dialog").data();$("#resource_dialog .modal-title").html(e.label),"add"==e.mode?$("#resource_dialog input").val(""):"edit"==e.mode&&[{key:"videoLink",label:"ipt_v_url"},{key:"posterLink",label:"ipt_i_url"},{key:"name",label:"ipt_name"},{key:"description",label:"ipt_description"},{key:"author",label:"ipt_author"},{key:"venue",label:"ipt_venue"}].forEach(function(o){e.data[o.key]&&$("#"+o.label).val(e.data[o.key])})}function modalSubmit(){var e=modalValidate();if(!0===e){$("#resource_dialog").modal("hide"),showConfirmDialog("Are you sure to save?",function(){var e,o=$("#resource_dialog").data("mode"),a=$("#resource_dialog").data("data")||{};"add"==o?e=mibo.config.API+"resource/add":"edit"==o&&(e=mibo.config.API+"resource/edit"),mibo.util.loading.show(),a.token=a.token||mibo.config.TOKEN,a.videoLink=encodeURIComponent($("#ipt_v_url").val().trim()),a.posterLink=encodeURIComponent($("#ipt_i_url").val().trim()),a.name=$("#ipt_name").val().trim(),a.description=$("#ipt_description").val().trim(),a.author=$("#ipt_author").val().trim(),a.produceTime=$("#ipt_produceTime").val().trim(),a.runTime=$("#ipt_runTime").val().trim(),a.views=$("#ipt_views").val().trim(),a.venue=$("#ipt_venue").val().trim();var i=mibo.util.http.post(e,a);mibo.promiseq.admin_user_login=i,i.done(function(e,o,a){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void $("#modal-error").show().find("label").html(e.response.message);mibo.util.loading.hide(),$("#resource_dialog").modal("hide"),admin_fetchResources()}).fail(function(){mibo.util.system.error()})},function(){$("#resource_dialog").modal({backdrop:"static"})})}else $("#modal-error").show().find("label").html(e)}function modalValidate(){var e=$("#ipt_v_url").val(),o=$("#ipt_i_url").val(),a=$("#ipt_name").val();return""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length()?"Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".":""==o.trim()||o.trim().length>mibo.modal.resource.posterLink.length()?"Poster URL cannot be empty, and the length must less than "+mibo.modal.resource.posterLink.length()+".":!(""==a.trim()||a.trim().length>mibo.modal.resource.name.length())||"Video name cannot be empty, and the length must less than "+mibo.modal.resource.name.length()+"."}function modalCheckVideo(){var e=$("#ipt_v_url").val();if(""==e.trim()||e.trim().length>mibo.modal.resource.videoLink.length())mibo.util.system.error("Video URL cannot be empty, and the length must less than "+mibo.modal.resource.videoLink.length()+".");else{mibo.util.loading.show();var o=o||{};o.token=o.token||mibo.config.TOKEN,o.videoLink=$("#ipt_v_url").val();var a=mibo.util.http.post(mibo.config.API+"resource/exist",o);mibo.promiseq.admin_user_login=a,a.done(function(e,o,a){if(console.log("data",e),mibo.util.loading.hide(),"success"==e.response.status){var i=e.response.data.exist?"The video URL has existed, please try another one.":'<span class="text-success">The video URL do NOT exist, can continue to add.</span>';$("#modal-error").show().find("label").html(i)}else $("#modal-error").show().find("label").html(e.response.message)}).fail(function(){mibo.util.system.error()})}}function showConfirmDialog(e,o,a){$("#confirm_dialog").modal({backdrop:"static",show:!1}),$("#confirm_dialog .modal-body label").html(e),$("#confirm_yes").click(function(e){$("#confirm_dialog").modal("hide"),$("#modal-error").hide(),o&&o()}),$("#confirm_no").click(function(e){$("#confirm_dialog").modal("hide"),a&&a()}),$("#confirm_dialog").on("hide.bs.modal",function(e){$("#confirm_yes").off(),$("#confirm_no").off()}).modal("show")}$(function(){if("admin"!=$("#page").val())return!1;0!=$("#form_login").length?admin_formAttachEvent():(admin_attachEvent(),admin_fetchResources())});var pager=mibo.util.pager();
function home_searchResources(o,t){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=o.offset||0,e.limit=o.limit||10,e.keyword=o.keyword||null,e.order=o.order||null;var s=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=s,s.done(function(o,e,s){if(console.log("data",o),"success"!=o.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(o.response.message);var r,i=$("#"+t).empty();if(0==o.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(i),stikyFooter(),void mibo.util.loading.hide();for(var a in o.response.data.rows)(r=[]).push('<tr id="',o.response.data.rows[a].id,'">'),r.push('<td class="tbl-col-img">'),r.push('<img class="img-icon" src="',decodeURIComponent(o.response.data.rows[a].poster_link),'">'),r.push("</td>"),r.push('<td class="tbl-col-author">'),r.push('<p class="td-row">',o.response.data.rows[a].name,"</p>"),r.push('<p class="td-row">',o.response.data.rows[a].author,"</p>"),r.push("</td>"),r.push('<td class="tbl-col-time">'),r.push('<p class="td-row">',o.response.data.rows[a].produce_time,"</p>"),r.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(o.response.data.rows[a].views),"</p>"),r.push("</td>"),r.push("<td>",o.response.data.rows[a].description,"</td>"),r.push("</tr>"),$(r.join("")).data(o.response.data.rows[a]).appendTo(i);home_attachResourceEvent(),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function home_attachResourceEvent(){$("#h_n_tbody tr, #h_t_tbody tr").click(function(o){o.preventDefault();var t=$(this).data();mibo.util.form.post("/play",t)})}function home_attachEvent(){$("#btn_more_new_pc, #btn_more_new_mb, #btn_more_top_pc, #btn_more_top_mb").click(function(o){var t={};"top"==$(this).attr("type")&&(t.order="views"),mibo.util.form.post("/search",t)})}$(function(){if("home"!=$("#page").val())return!1;home_attachEvent(),home_searchResources({},"h_n_tbody"),home_searchResources({order:"views"},"h_t_tbody")});
function search_searchResources(){mibo.util.loading.show();var e={};e.token=mibo.config.TOKEN,e.offset=pager.getItemStart(),e.limit=pager.getItemCount();var a=$("#startTime").val(),s=$("#endTime").val(),t=$("#keyword").val(),r=$("#order").val();a&&(e.startTime=a),s&&(e.endTime=s),t&&(e.keyword=t),r&&(e.order=r);var o=mibo.util.http.post(mibo.config.API+"resource/fetch",e);mibo.promiseq.admin_resource_fetch=o,o.done(function(e,a,s){if(console.log("data",e),"success"!=e.response.status)return mibo.util.loading.hide(),void mibo.util.system.error(e.response.message);var t,r=$("#result_tbody").empty();if(0==e.response.data.totalRowCount)return $("<tr><td><p>There is no result based on your search keyword...</p></td></tr>").appendTo(r),stikyFooter(),void mibo.util.loading.hide();for(var o in e.response.data.rows)(t=[]).push('<tr id="',e.response.data.rows[o].id,'">'),t.push('<td class="tbl-col-img">'),t.push('<img class="img-icon" src="',decodeURIComponent(e.response.data.rows[o].poster_link),'">'),t.push("</td>"),t.push('<td class="tbl-col-author">'),t.push('<p class="td-row">',e.response.data.rows[o].name,"</p>"),t.push('<p class="td-row">',e.response.data.rows[o].author,"</p>"),t.push("</td>"),t.push('<td class="tbl-col-time">'),t.push('<p class="td-row">',e.response.data.rows[o].produce_time,"</p>"),t.push('<p class="td-row">','<i class="fa fa-eye" aria-hidden="true"></i>',mibo.util.format.number2kview(e.response.data.rows[o].views),"</p>"),t.push("</td>"),t.push("<td>",e.response.data.rows[o].description,"</td>"),t.push("</tr>"),$(t.join("")).data(e.response.data.rows[o]).appendTo(r);search_attachResourceEvent(),pager.setTotalItem(e.response.data.totalRowCount),$("#page_total").html(pager.getTotalPage()),$("#page_number").val(""),$("#page_active").html(pager.getPage()),pager.isFirstPage()?$("#page_previous").hasClass("disabled")||$("#page_previous").addClass("disabled"):!$("#page_previous").hasClass("disabled")||$("#page_previous").removeClass("disabled"),pager.isLastPage()?$("#page_next").hasClass("disabled")||$("#page_next").addClass("disabled"):!$("#page_next").hasClass("disabled")||$("#page_next").removeClass("disabled"),stikyFooter(),mibo.util.loading.hide()}).fail(function(){mibo.util.system.error()})}function search_attachResourceEvent(){$("#result_tbody tr").click(function(e){e.preventDefault();var a=$(this).data();mibo.util.form.post("/play",a)})}function search_attachEvent(){$("#page_previous a").click(function(e){pager.isFirstPage()||(pager.setPage(pager.getPage()-1),search_searchResources())}),$("#page_next a").click(function(e){pager.isLastPage()||(pager.setPage(pager.getPage()+1),console.log("target page: ",pager.getPage()),search_searchResources())}),$("#page_go").click(function(e){var a=~~$("#page_number").val();0==a||a>pager.getTotalPage()?mibo.util.system.error("Please input an page number between 1 and "+pager.getTotalPage()):(pager.setPage(a),search_searchResources())})}$(function(){if("search"!=$("#page").val())return!1;search_attachEvent(),search_searchResources()});var pager=mibo.util.pager();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImFkbWluLmpzIiwiaG9tZS5qcyIsInNlYXJjaC5qcyJdLCJuYW1lcyI6WyJzdGlreUZvb3RlciIsIiQiLCJoZWlnaHQiLCJ3aW5kb3ciLCJzY3JlZW4iLCJhdmFpbEhlaWdodCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1pYm8iLCJjb25maWciLCJBUEkiLCJ2YWwiLCJUT0tFTiIsImxvYWRpbmciLCJpZCIsInByb21pc2VxIiwidXRpbCIsInNob3ciLCJoaWRlIiwiaHR0cCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwiaGVhZGVyT3B0aW9ucyIsImFqYXgiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImhlYWRlcnMiLCJzeXN0ZW0iLCJlcnJvciIsIm1zZyIsImFsZXJ0IiwiZm9ybWF0IiwibnVtYmVyMmt2aWV3IiwibnVtYmVyIiwic3RyTnVtYmVyIiwic3RyTGVuZ3RoIiwibGVuZ3RoIiwiZW5kIiwic3RyVmlldyIsInN0YXJ0Iiwic2xpY2UiLCJwYWdlciIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlIiwidG90YWxJdGVtIiwiaXRlbUNvdW50IiwidGhpcyIsInNldFBhZ2UiLCJwYWdlIiwiZ2V0UGFnZSIsInNldFRvdGFsUGFnZSIsInBhZ2VDb3VudCIsImdldFRvdGFsUGFnZSIsImluY3JlYXNlUGFnZSIsImRlY3JlYXNlUGFnZSIsImlzRmlyc3RQYWdlIiwiaXNMYXN0UGFnZSIsInNldEl0ZW1Db3VudCIsImNvdW50IiwiZ2V0SXRlbUNvdW50Iiwic2V0VG90YWxJdGVtIiwiaXRlbU51bWJlciIsIk1hdGgiLCJmbG9vciIsImdldEl0ZW1TdGFydCIsImZvcm0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0YXJnZXQiLCJtZXRob2QiLCJhY3Rpb24iLCJzdHlsZSIsImRpc3BsYXkiLCJrZXkiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwiYm9keSIsInN1Ym1pdCIsInJlbW92ZUNoaWxkIiwibW9kYWwiLCJyZXNvdXJjZSIsInZpZGVvTGluayIsInBvc3RlckxpbmsiLCJkZXNjcmlwdGlvbiIsImF1dGhvciIsInZlbnVlIiwibm90ZSIsInVzZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZW1haWwiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWRtaW5fZmV0Y2hSZXNvdXJjZXMiLCJzZWFyY2hfc2VhcmNoUmVzb3VyY2VzIiwia2V5d29yZCIsImFkbWluX2Zvcm1BdHRhY2hFdmVudCIsInZhbGlkYXRlIiwiYWRtaW5fZm9ybVZhbGlkYXRlIiwidG9rZW4iLCJhanAiLCJhZG1pbl91c2VyX2xvZ2luIiwiZG9uZSIsInN0YXR1cyIsImFqWGhyIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwibWVzc2FnZSIsImxvY2F0aW9uIiwiaHJlZiIsImZhaWwiLCJmb2N1cyIsInRyaW0iLCJyZWdleHAiLCJ0ZXN0Iiwib2Zmc2V0IiwibGltaXQiLCJhZG1pbl9yZXNvdXJjZV9mZXRjaCIsImh0bWwiLCJyZXNvdXJjZVRCb2R5IiwiZW1wdHkiLCJwIiwicm93cyIsInB1c2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYXBwZW5kVG8iLCJhZG1pbl9hdHRhY2hSZXNvdXJjZUV2ZW50IiwidG90YWxSb3dDb3VudCIsImVhY2giLCIkdHIiLCJmaW5kIiwiJGJ1dHRvbiIsImNsaWNrIiwiYXR0ciIsImJhY2tkcm9wIiwiZWRpdERhdGEiLCJyZW1vdmVEYXRhIiwibW9kZSIsImxhYmVsIiwidmlkZW9fbGluayIsInBvc3Rlcl9saW5rIiwicHJvZHVjZVRpbWUiLCJwcm9kdWNlX3RpbWUiLCJydW5UaW1lIiwicnVuX3RpbWUiLCJ2aWV3cyIsIm1vZGFsSW5pdCIsInNob3dDb25maXJtRGlhbG9nIiwiYWRtaW5fYXR0YWNoRXZlbnQiLCJtb2RhbFN1Ym1pdCIsIm1vZGFsQ2hlY2tWaWRlbyIsInBhZ2VOdW1iZXIiLCJmb3JFYWNoIiwib2JqZWN0IiwibW9kYWxWYWxpZGF0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInZpZGVvIiwiaW1hZ2UiLCJleGlzdCIsImNiWWVzIiwiY2JObyIsIm9uIiwib2ZmIiwiaG9tZV9zZWFyY2hSZXNvdXJjZXMiLCJjcml0ZXJpYSIsImNvbnRhaW5lcklkIiwib3JkZXIiLCJob21lX2F0dGFjaFJlc291cmNlRXZlbnQiLCJob21lX2F0dGFjaEV2ZW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInNlYXJjaF9hdHRhY2hSZXNvdXJjZUV2ZW50Iiwic2VhcmNoX2F0dGFjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUErTUEsU0FBU0EsY0FDREMsRUFBRSxTQUFTQyxTQUFXQyxPQUFPQyxPQUFPQyxZQUFjSixFQUFFLGVBQWVDLFNBQVcsSUFDN0VELEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU0sU0FBUyxvQkFFNUVOLEVBQUUsZUFBZUssU0FBUyxxQkFBdUJMLEVBQUUsZUFBZU8sWUFBWSxvQkFoTnRGLElBQUlDLEtBQU9BLFNBR1hBLEtBQUtDLE9BQVNELEtBQUtDLFNBQ1hDLElBQU9WLEVBQUUsUUFBUVcsT0FBUyxHQUMxQkMsTUFBU1osRUFBRSxVQUFVVyxPQUFTLEdBQzlCRSxTQUNJQyxHQUFNLG1CQUtsQk4sS0FBS08sU0FBV1AsS0FBS08sYUFHckJQLEtBQUtRLEtBQU9SLEtBQUtRLE9BQ1RILFNBQ0lJLEtBQVEsV0FDSmpCLEVBQUVRLEtBQUtDLE9BQU9JLFFBQVFDLElBQUlHLFFBRTlCQyxLQUFRLFdBQ0psQixFQUFFUSxLQUFLQyxPQUFPSSxRQUFRQyxJQUFJSSxTQUdsQ0MsTUFDSUMsS0FBUSxTQUFVQyxFQUFLQyxFQUFNQyxHQUN6QixPQUFPdkIsRUFBRXdCLE1BQ0xILElBQUtBLEVBQ0xJLEtBQU0sT0FDTkgsS0FBTUEsRUFDTkksWUFBYSxtREFDYkMsU0FBVSxPQUNWQyxRQUFTTCxVQUlyQk0sUUFDSUMsTUFBUyxTQUFVQyxHQUNmLElBQUlBLEVBQU1BLEdBQU8sdUhBQ2pCQyxNQUFNRCxLQUdkRSxR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Zm1KLEdBQW9CQSxFQUFhbkgsTUFBTVcsZUFDdkM5QyxLQUFLUSxLQUFLYSxPQUFPQyxNQUFNLDZDQUErQ2EsTUFBTVcsaUJBR2hGWCxNQUFNTSxRQUFRNkcsR0FDZDNELDRCQXBIUm5HLEVBQUUsV0FDRSxHQUF3QixVQUFwQkEsRUFBRSxTQUFTVyxNQUNYLE9BQU8sRUFHWHdLLHFCQUNBaEYsMkJBTUosSUFBSXhELE1BQVFuQyxLQUFLUSxLQUFLMkIiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEdsb2JhbCBzZXR0aW5nc1xyXG4gKiAqL1xyXG52YXIgbWlibyA9IG1pYm8gfHwge307XHJcblxyXG4vLyBDb25maWdcclxubWliby5jb25maWcgPSBtaWJvLmNvbmZpZyB8fCB7XHJcbiAgICAgICAgJ0FQSSc6ICQoJyNhcGknKS52YWwoKSB8fCAnJyxcclxuICAgICAgICAnVE9LRU4nOiAkKCcjdG9rZW4nKS52YWwoKSB8fCAnJyxcclxuICAgICAgICAnbG9hZGluZyc6IHtcclxuICAgICAgICAgICAgJ2lkJzogJyNsb2FkaW5nX3BhbmVsJ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBQcm9taXNlIHF1ZXVlXHJcbm1pYm8ucHJvbWlzZXEgPSBtaWJvLnByb21pc2VxIHx8IHt9O1xyXG5cclxuLy8gVXRpbFxyXG5taWJvLnV0aWwgPSBtaWJvLnV0aWwgfHwge1xyXG4gICAgICAgICdsb2FkaW5nJzoge1xyXG4gICAgICAgICAgICAnc2hvdyc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQobWliby5jb25maWcubG9hZGluZy5pZCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaGlkZSc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQobWliby5jb25maWcubG9hZGluZy5pZCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAnaHR0cCc6IHtcclxuICAgICAgICAgICAgJ3Bvc3QnOiBmdW5jdGlvbiAodXJsLCBkYXRhLCBoZWFkZXJPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJPcHRpb25zIHx8IHt9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N5c3RlbSc6IHtcclxuICAgICAgICAgICAgJ2Vycm9yJzogZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IG1zZyB8fCAnWW91IHNlZW1zIHRvIG1lZXQgdXAgYSBzeXN0ZW0gZXJyb3IuIEl0IGlzIGFwcHJlY2lhdGVkIGlmIHlvdSBjYW4gc2VuZCBhbiBlbWFpbCB0byB1cyB2aWE6IHJoaW5vc3R1ZGlvMjAxN0BnbWFpbC5jb20nO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQobXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2Zvcm1hdCc6IHtcclxuICAgICAgICAgICAgJ251bWJlcjJrdmlldyc6IGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJOdW1iZXIgPSBudW1iZXIgKyAnJywgc3RyTGVuZ3RoID0gc3RyTnVtYmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJMZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmlldyA9ICcnLCBzdGFydCA9IDMsIGVuZDtcclxuICAgICAgICAgICAgICAgIHN0clZpZXcgPSAnLCcgKyBzdHJOdW1iZXIuc2xpY2UoLXN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydCA8IHN0ckxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IC1zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCArPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA+IHN0ckxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN0ckxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyVmlldyA9ICcsJyArIHN0ck51bWJlci5zbGljZSgtc3RhcnQsIGVuZCkgKyBzdHJWaWV3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RyVmlldyA9IHN0clZpZXcuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3BhZ2VyJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBQYWdlcigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IDEsIHRvdGFsUGFnZSA9IDEsIHRvdGFsSXRlbSA9IDAsIGl0ZW1Db3VudCA9IDEwLCBpdGVtU3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvdGFsUGFnZSA9IGZ1bmN0aW9uIChwYWdlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2UgPSBwYWdlQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGFnZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA8IHRvdGFsUGFnZSAmJiBjdXJyZW50UGFnZSsrO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVhc2VQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID4gMSAmJiBjdXJyZW50UGFnZS0tO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlID09IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGFzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlID09IHRvdGFsUGFnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXRlbUNvdW50ID0gZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvdW50ID0gY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEl0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb3RhbEl0ZW0gPSBmdW5jdGlvbiAoaXRlbU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSXRlbSA9IGl0ZW1OdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUb3RhbFBhZ2UoTWF0aC5mbG9vcih0b3RhbEl0ZW0gLyBpdGVtQ291bnQpICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEl0ZW1TdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGN1cnJlbnRQYWdlIC0gMSkgKiBpdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFnZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgICdmb3JtJzoge1xyXG4gICAgICAgICAgICAncG9zdCc6IGZ1bmN0aW9uICh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgZm9ybS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGZvcm0ubWV0aG9kID0gJ1BPU1QnO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5hY3Rpb24gPSB1cmw7XHJcbiAgICAgICAgICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQubmFtZSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxubWliby5tb2RhbCA9IG1pYm8ubW9kYWwgfHwge1xyXG4gICAgICAgICdyZXNvdXJjZSc6IHtcclxuICAgICAgICAgICAgJ3ZpZGVvTGluayc6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEyODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Bvc3RlckxpbmsnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ25hbWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI1NjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2F1dGhvcic6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDMyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAndmVudWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ25vdGUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICd1c2VyJzoge1xyXG4gICAgICAgICAgICAndXNlcm5hbWUnOiB7XHJcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Bhc3N3b3JkJzoge1xyXG4gICAgICAgICAgICAgICAgJ2xlbmd0aCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdlbWFpbCc6IHtcclxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8qXHJcbiAqIENvbW1vbiBpbml0aWFsaXphdGlvblxyXG4gKiAqL1xyXG4vKlxyXG4gKGZ1bmN0aW9uICgpIHtcclxuIC8vIFN0aWt5IGZvb3RlclxyXG4gY29uc29sZS5sb2cod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCwgJCgnLnBhZ2UnKS5oZWlnaHQoKSwgJCgnLmRpdi1mb290ZXInKS5oZWlnaHQoKSwgJ2xvYWRpbmcuLicpO1xyXG4gJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24gKCkge1xyXG4gY29uc29sZS5sb2cod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCwgJCgnLnBhZ2UnKS5oZWlnaHQoKSwgJCgnLmRpdi1mb290ZXInKS5oZWlnaHQoKSk7XHJcbiBpZiAoJCgnLnBhZ2UnKS5oZWlnaHQoKSA8IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSAkKCcuZGl2LWZvb3RlcicpLmhlaWdodCgpIC0gNTYpIHtcclxuICQoJy5kaXYtZm9vdGVyJykuaGFzQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKSAmJiAkKCcuZGl2LWZvb3RlcicpLmFkZENsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJyk7XHJcbiB9IGVsc2Uge1xyXG4gJCgnLmRpdi1mb290ZXInKS5oYXNDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpICYmICQoJy5kaXYtZm9vdGVyJykucmVtb3ZlQ2xhc3MoJ2Rpdi1mb290ZXItZml4ZWQnKTtcclxuIH1cclxuIH0pO1xyXG4gfSkoKTtcclxuICovXHJcbi8vIFN0aWt5IGZvb3RlclxyXG5mdW5jdGlvbiBzdGlreUZvb3RlcigpIHtcclxuICAgIGlmICgkKCcucGFnZScpLmhlaWdodCgpIDwgd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtICQoJy5kaXYtZm9vdGVyJykuaGVpZ2h0KCkgLSA1Nikge1xyXG4gICAgICAgICEkKCcuZGl2LWZvb3RlcicpLmhhc0NsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJykgJiYgJCgnLmRpdi1mb290ZXInKS5hZGRDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcuZGl2LWZvb3RlcicpLmhhc0NsYXNzKCdkaXYtZm9vdGVyLWZpeGVkJykgJiYgJCgnLmRpdi1mb290ZXInKS5yZW1vdmVDbGFzcygnZGl2LWZvb3Rlci1maXhlZCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKHdpbmRvdykuYmluZCgnbG9hZCcsIHN0aWt5Rm9vdGVyKTtcclxuXHJcbi8vIFNlYXJjaCBmb3JtXHJcbiQoJyNmb3JtX3NlYXJjaCcpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIHBhZ2UgPSAkKCcjcGFnZScpLnZhbCgpO1xyXG4gICAgaWYgKHBhZ2UgPT0gJ2FkbWluJykge1xyXG4gICAgICAgICB0eXBlb2YgYWRtaW5fZmV0Y2hSZXNvdXJjZXMgPT0gJ2Z1bmN0aW9uJyAmJiBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlID09ICdzZWFyY2gnKSB7XHJcbiAgICAgICAgJCgnI2tleXdvcmQnKS52YWwoJCgnI3NlYXJjaF90ZXh0JykudmFsKCkpO1xyXG4gICAgICAgIHR5cGVvZiBwYWdlciA9PSAnb2JqZWN0JyAmJiBwYWdlci5zZXRQYWdlKDEpO1xyXG4gICAgICAgIHR5cGVvZiBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzID09ICdmdW5jdGlvbicgJiYgc2VhcmNoX3NlYXJjaFJlc291cmNlcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHt9LCB1cmwgPSAnL3NlYXJjaCc7XHJcbiAgICAgICAgZGF0YS5rZXl3b3JkID0gJCgnI3NlYXJjaF90ZXh0JykudmFsKCk7XHJcbiAgICAgICAgbWliby51dGlsLmZvcm0ucG9zdCh1cmwsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxufSk7IiwiLy8gSW5pdGlhbGl6YXRpb25cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnI3BhZ2UnKS52YWwoKSAhPSAnYWRtaW4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cclxuICAgIGlmICgkKCcjZm9ybV9sb2dpbicpLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgYWRtaW5fZm9ybUF0dGFjaEV2ZW50KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkbWluX2F0dGFjaEV2ZW50KCk7XHJcbiAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vKlxyXG4gKiBBZG1pbi1Mb2dpblxyXG4gKiAqL1xyXG5mdW5jdGlvbiBhZG1pbl9mb3JtQXR0YWNoRXZlbnQoKSB7XHJcbiAgICAvLyBGb3JtIGV2ZW50XHJcbiAgICAkKCcjZm9ybV9sb2dpbicpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdmFsaWRhdGUgPSBhZG1pbl9mb3JtVmFsaWRhdGUoKTtcclxuICAgICAgICBpZiAodmFsaWRhdGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcih2YWxpZGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGxvZ2luIHZpYSBhcGlcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgICAgIGRhdGEudXNlcm5hbWUgPSAkKCcjdXNlcm5hbWUnKS52YWwoKTtcclxuICAgICAgICBkYXRhLnBhc3N3b3JkID0gJCgnI3Bhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3VzZXIvbG9naW4nLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnByb21pc2VxLmFkbWluX3VzZXJfbG9naW4gPSBhanA7XHJcbiAgICAgICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICQoJyN1c2VybmFtZSwgI3Bhc3N3b3JkJykuYWRkQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluJztcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRm9jdXMgZXZlbnRzXHJcbiAgICAkKCcjdXNlcm5hbWUsICNwYXNzd29yZCcpLmZvY3VzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI3VzZXJuYW1lJykuaGFzQ2xhc3MoJ2NvbG9yLWVycm9yJykgJiYgJCgnI3VzZXJuYW1lJykucmVtb3ZlQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgJCgnI3Bhc3N3b3JkJykuaGFzQ2xhc3MoJ2NvbG9yLWVycm9yJykgJiYgJCgnI3Bhc3N3b3JkJykucmVtb3ZlQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRtaW5fZm9ybVZhbGlkYXRlKCkge1xyXG4gICAgdmFyIHVzZXJuYW1lID0gJCgnI3VzZXJuYW1lJykudmFsKCksIHBhc3N3b3JkID0gJCgnI3Bhc3N3b3JkJykudmFsKCksIGZsYWcgPSAxO1xyXG4gICAgaWYgKHVzZXJuYW1lLnRyaW0oKSA9PSAnJyB8fCB1c2VybmFtZS50cmltKCkubGVuZ3RoID4gbWliby5tb2RhbC51c2VyLnVzZXJuYW1lLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgJCgnI3VzZXJuYW1lJykuYWRkQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgcmV0dXJuICdVc2VybmFtZSBjYW5ub3QgYmUgZW1wdHksIGFuZCB0aGUgbGVuZ3RoIG11c3QgbGVzcyB0aGFuICcgKyBtaWJvLm1vZGFsLnVzZXIudXNlcm5hbWUubGVuZ3RoKCkgKyAnLic7XHJcbiAgICB9XHJcbiAgICBpZiAocGFzc3dvcmQudHJpbSgpID09ICcnIHx8IHBhc3N3b3JkLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnVzZXIucGFzc3dvcmQubGVuZ3RoKCkpIHtcclxuICAgICAgICAkKCcjcGFzc3dvcmQnKS5hZGRDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gJ1Bhc3N3b3JkIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwudXNlci5wYXNzd29yZC5sZW5ndGgoKSArICcuJztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmVnZXhwID0gL1thLXpBLVowLTlfXSsvO1xyXG4gICAgaWYgKCFyZWdleHAudGVzdCh1c2VybmFtZSkpIHtcclxuICAgICAgICAkKCcjdXNlcm5hbWUnKS5hZGRDbGFzcygnY29sb3ItZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gJ1VzZXJuYW1lIG11c3Qgb25seSBjb250YWluIGNoYXJhY3RlcnMsIG51bWJlcnMgYW5kIHVuZGVyc2NvcmUuJztcclxuICAgIH1cclxuICAgIGlmICghcmVnZXhwLnRlc3QocGFzc3dvcmQpKSB7XHJcbiAgICAgICAgJCgnI3Bhc3N3b3JkJykuYWRkQ2xhc3MoJ2NvbG9yLWVycm9yJyk7XHJcbiAgICAgICAgcmV0dXJuICdQYXNzd29yZCBtdXN0IG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzLCBudW1iZXJzIGFuZCB1bmRlcnNjb3JlLic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLypcclxuICogQWRtaW4tQ29udGVudFxyXG4gKiAqL1xyXG52YXIgcGFnZXIgPSBtaWJvLnV0aWwucGFnZXIoKTtcclxuXHJcbi8vIFJldHJpZXZlIHJlc291cmNlcyB2aWEgYXBpXHJcbmZ1bmN0aW9uIGFkbWluX2ZldGNoUmVzb3VyY2VzKCkge1xyXG4gICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICBkYXRhLm9mZnNldCA9IHBhZ2VyLmdldEl0ZW1TdGFydCgpO1xyXG4gICAgZGF0YS5saW1pdCA9IHBhZ2VyLmdldEl0ZW1Db3VudCgpO1xyXG4gICAgZGF0YS5rZXl3b3JkID0gJCgnI3NlYXJjaF90ZXh0JykudmFsKCkudHJpbSgpIHx8ICcnO1xyXG4gICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3Jlc291cmNlL2ZldGNoJywgZGF0YSk7XHJcbiAgICBtaWJvLnByb21pc2VxLmFkbWluX3Jlc291cmNlX2ZldGNoID0gYWpwO1xyXG4gICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgIC8vIENvbnN0cnVjdCByZXNvdXJjZSB0Ym9keVxyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc291cmNlVEJvZHkgPSAkKCcjdGJvZHlfcmVzb3VyY2UnKS5lbXB0eSgpLCBodG1sO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gZGF0YS5yZXNwb25zZS5kYXRhLnJvd3MpIHtcclxuICAgICAgICAgICAgaHRtbCA9IFtdO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ciBpZD1cIicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydpZCddLCAnXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpbWcgY2xhc3M9XCJpbWctaWNvblwiIHNyYz1cIicsIGRlY29kZVVSSUNvbXBvbmVudChkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncG9zdGVyX2xpbmsnXSksICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZD4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnZGVzY3JpcHRpb24nXSwgJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydwcm9kdWNlX3RpbWUnXSwgJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCIgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCIgZmlyZT1cImVkaXRcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8aSBjbGFzcz1cImZhIGZhLXJlbW92ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8c3BhbiBjbGFzcz1cInRibC1jb2wtYnV0dG9ucy10ZXh0XCI+Jm5ic3A7RWRpdDwvc3Bhbj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIHJpZ2h0XCIgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCIgZmlyZT1cImRlbGV0ZVwiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxzcGFuIGNsYXNzPVwidGJsLWNvbC1idXR0b25zLXRleHRcIj4mbmJzcDtEZWxldGU8L3NwYW4+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC9idXR0b24+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpO1xyXG4gICAgICAgICAgICAkKGh0bWwuam9pbignJykpLmRhdGEoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF0pLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZG1pbl9hdHRhY2hSZXNvdXJjZUV2ZW50KCk7XHJcbiAgICAgICAgLy8gUGFnaW5hdGlvbiByZS1zZXR0aW5nc1xyXG4gICAgICAgIHBhZ2VyLnNldFRvdGFsSXRlbShkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCk7XHJcbiAgICAgICAgJCgnI3BhZ2VfdG90YWwnKS5odG1sKHBhZ2VyLmdldFRvdGFsUGFnZSgpKTtcclxuICAgICAgICAkKCcjcGFnZV9udW1iZXInKS52YWwoJycpO1xyXG4gICAgICAgICQoJyNwYWdlX2FjdGl2ZScpLmh0bWwocGFnZXIuZ2V0UGFnZSgpKTtcclxuICAgICAgICBpZiAocGFnZXIuaXNGaXJzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICAkKCcjcGFnZV9wcmV2aW91cycpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX3ByZXZpb3VzJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgISQoJyNwYWdlX3ByZXZpb3VzJykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfcHJldmlvdXMnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhZ2VyLmlzTGFzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICAkKCcjcGFnZV9uZXh0JykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfbmV4dCcpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICEkKCcjcGFnZV9uZXh0JykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgfHwgJCgnI3BhZ2VfbmV4dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTdGlreSBmb290ZXJcclxuICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZG1pbl9hdHRhY2hSZXNvdXJjZUV2ZW50KCkge1xyXG4gICAgJCgnI3Rib2R5X3Jlc291cmNlIHRyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICR0ciA9ICQodGhpcyk7XHJcbiAgICAgICAgJHRyLmZpbmQoJ2J1dHRvbicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICRidXR0b24uY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkYnV0dG9uLmF0dHIoJ2ZpcmUnKSA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZWRpdC4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tkcm9wJzogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzaG93JzogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdERhdGEgPSAkdHIuZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5yZW1vdmVEYXRhKCdtb2RlJykucmVtb3ZlRGF0YSgnbGFiZWwnKS5yZW1vdmVEYXRhKCdkYXRhJykuZGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtb2RlJzogJ2VkaXQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnOiAnRWRpdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogZWRpdERhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlkZW9MaW5rJzogZGVjb2RlVVJJQ29tcG9uZW50KGVkaXREYXRhLnZpZGVvX2xpbmspLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc3RlckxpbmsnOiBkZWNvZGVVUklDb21wb25lbnQoZWRpdERhdGEucG9zdGVyX2xpbmspLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBlZGl0RGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogZWRpdERhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0aG9yJzogZWRpdERhdGEuYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y2VUaW1lJzogZWRpdERhdGEucHJvZHVjZV90aW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3J1blRpbWUnOiBlZGl0RGF0YS5ydW5fdGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2aWV3cyc6IGVkaXREYXRhLnZpZXdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbnVlJzogZWRpdERhdGEudmVudWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5pdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCgnc2hvdycpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5hdHRyKCdmaXJlJykgPT0gJ2RlbGV0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2JfZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS50b2tlbiA9IGRhdGEudG9rZW4gfHwgbWliby5jb25maWcuVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWQgPSAkdHIuZGF0YSgpLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvcmVtb3ZlJywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZS5zdGF0dXMgIT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcihkYXRhLnJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluX2ZldGNoUmVzb3VyY2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtRGlhbG9nKCdBcmUgeW91IHN1cmUgdG8gZGVsZXRlPycsIGNiX2RlbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkbWluX2F0dGFjaEV2ZW50KCkge1xyXG4gICAgLy8gTG9nb3V0IGxpbmtcclxuICAgICQoJyNsaW5rX2xvZ291dCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgICAgICBkYXRhLnRva2VuID0gZGF0YS50b2tlbiB8fCBtaWJvLmNvbmZpZy5UT0tFTjtcclxuICAgICAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAndXNlci9sb2dvdXQnLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnByb21pc2VxLmFkbWluX3VzZXJfbG9naW4gPSBhanA7XHJcbiAgICAgICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4nO1xyXG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXNvdXJjZSBhZGQgYnV0dG9uXHJcbiAgICAkKCcjcmVzb3VyY2VfYWRkJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoe1xyXG4gICAgICAgICAgICAnYmFja2Ryb3AnOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgJ3Nob3cnOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5yZW1vdmVEYXRhKCdtb2RlJykucmVtb3ZlRGF0YSgnbGFiZWwnKS5yZW1vdmVEYXRhKCdkYXRhJykuZGF0YSh7XHJcbiAgICAgICAgICAgICdtb2RlJzogJ2FkZCcsXHJcbiAgICAgICAgICAgICdsYWJlbCc6ICdBZGQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbW9kYWxJbml0KCk7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNb2RhbCBkaWFsb2cgZm9jdXNcclxuICAgICQoJyNyZXNvdXJjZV9kaWFsb2cgaW5wdXQnKS5mb2N1cyhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNtb2RhbC1lcnJvcicpLmhpZGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE1vZGFsIHN1Ym1pdCBidXR0b25cclxuICAgICQoJyNtb2RhbF9zYXZlJykuY2xpY2sobW9kYWxTdWJtaXQpO1xyXG5cclxuICAgIC8vIE1vZGFsIGNoZWNrIHZpZGVvIGJ1dHRvblxyXG4gICAgJCgnI21vZGFsX2NoZWNrJykuY2xpY2sobW9kYWxDaGVja1ZpZGVvKTtcclxuXHJcbiAgICAvLyBQYWdpbmF0aW9uIGJ1dHRvbnNcclxuICAgICQoJyNwYWdlX3ByZXZpb3VzIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghcGFnZXIuaXNGaXJzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VyLmdldFBhZ2UoKSAtIDEpO1xyXG4gICAgICAgICAgICBhZG1pbl9mZXRjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI3BhZ2VfbmV4dCBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzTGFzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VyLmdldFBhZ2UoKSArIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGFyZ2V0IHBhZ2U6ICcsIHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIGFkbWluX2ZldGNoUmVzb3VyY2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjcGFnZV9nbycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHBhZ2VOdW1iZXIgPSB+fiQoJyNwYWdlX251bWJlcicpLnZhbCgpO1xyXG4gICAgICAgIGlmIChwYWdlTnVtYmVyICA9PSAwIHx8IHBhZ2VOdW1iZXIgPiBwYWdlci5nZXRUb3RhbFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCdQbGVhc2UgaW5wdXQgYW4gcGFnZSBudW1iZXIgYmV0d2VlbiAxIGFuZCAnICsgcGFnZXIuZ2V0VG90YWxQYWdlKCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZ2VyLnNldFBhZ2UocGFnZU51bWJlcik7XHJcbiAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBNb2RhbCBkaWFsb2cgaW5pdGlhbGl6ZVxyXG5mdW5jdGlvbiBtb2RhbEluaXQoKSB7XHJcbiAgICB2YXIgZGF0YSA9ICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5kYXRhKCk7XHJcbiAgICAkKCcjcmVzb3VyY2VfZGlhbG9nIC5tb2RhbC10aXRsZScpLmh0bWwoZGF0YVsnbGFiZWwnXSk7XHJcbiAgICBpZiAoZGF0YVsnbW9kZSddID09ICdhZGQnKSB7XHJcbiAgICAgICAgLy8gRm9yIGFkZCBtb2RlXHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZyBpbnB1dCcpLnZhbCgnJyk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFbJ21vZGUnXSA9PSAnZWRpdCcpIHtcclxuICAgICAgICAvLyBGb3IgZWRpdCBtb2RlXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICB7J2tleSc6ICd2aWRlb0xpbmsnLCAnbGFiZWwnOiAnaXB0X3ZfdXJsJ30sIHsna2V5JzogJ3Bvc3RlckxpbmsnLCAnbGFiZWwnOiAnaXB0X2lfdXJsJ30sIHtcclxuICAgICAgICAgICAgJ2tleSc6ICduYW1lJyxcclxuICAgICAgICAgICAgJ2xhYmVsJzogJ2lwdF9uYW1lJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICAgIHsna2V5JzogJ2Rlc2NyaXB0aW9uJywgJ2xhYmVsJzogJ2lwdF9kZXNjcmlwdGlvbid9LCB7J2tleSc6ICdhdXRob3InLCAnbGFiZWwnOiAnaXB0X2F1dGhvcid9LCB7XHJcbiAgICAgICAgICAgICdrZXknOiAndmVudWUnLFxyXG4gICAgICAgICAgICAnbGFiZWwnOiAnaXB0X3ZlbnVlJ1xyXG4gICAgICAgIH1dLmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBkYXRhWydkYXRhJ11bb2JqZWN0WydrZXknXV0gJiYgJCgnIycgKyBvYmplY3RbJ2xhYmVsJ10pLnZhbChkYXRhWydkYXRhJ11bb2JqZWN0WydrZXknXV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIE1vZGFsIGRpYWxvZyBzdWJtaXRcclxuZnVuY3Rpb24gbW9kYWxTdWJtaXQoKSB7XHJcbiAgICB2YXIgdmFsaWRhdGUgPSBtb2RhbFZhbGlkYXRlKCk7XHJcbiAgICBpZiAodmFsaWRhdGUgIT09IHRydWUpIHtcclxuICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5zaG93KCkuZmluZCgnbGFiZWwnKS5odG1sKHZhbGlkYXRlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNiX2FkZF9lZGl0X3llcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCh7J2JhY2tkcm9wJzonc3RhdGljJ30pO1xyXG4gICAgICAgIHZhciBtb2RlID0gJCgnI3Jlc291cmNlX2RpYWxvZycpLmRhdGEoJ21vZGUnKSwgZGF0YSA9ICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5kYXRhKCdkYXRhJykgfHwge30sIHVybDtcclxuICAgICAgICBpZiAobW9kZSA9PSAnYWRkJykge1xyXG4gICAgICAgICAgICB1cmwgPSBtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvYWRkJztcclxuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICAgIHVybCA9IG1pYm8uY29uZmlnLkFQSSArICdyZXNvdXJjZS9lZGl0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2F2ZSByZXNvdXJjZSB2aWEgYXBpXHJcbiAgICAgICAgbWliby51dGlsLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgICAgIGRhdGEudmlkZW9MaW5rID0gZW5jb2RlVVJJQ29tcG9uZW50KCQoJyNpcHRfdl91cmwnKS52YWwoKS50cmltKCkpO1xyXG4gICAgICAgIGRhdGEucG9zdGVyTGluayA9IGVuY29kZVVSSUNvbXBvbmVudCgkKCcjaXB0X2lfdXJsJykudmFsKCkudHJpbSgpKTtcclxuICAgICAgICBkYXRhLm5hbWUgPSAkKCcjaXB0X25hbWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9ICQoJyNpcHRfZGVzY3JpcHRpb24nKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS5hdXRob3IgPSAkKCcjaXB0X2F1dGhvcicpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnByb2R1Y2VUaW1lID0gJCgnI2lwdF9wcm9kdWNlVGltZScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBkYXRhLnJ1blRpbWUgPSAkKCcjaXB0X3J1blRpbWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS52aWV3cyA9ICQoJyNpcHRfdmlld3MnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgZGF0YS52ZW51ZSA9ICQoJyNpcHRfdmVudWUnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QodXJsLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnByb21pc2VxLmFkbWluX3VzZXJfbG9naW4gPSBhanA7XHJcbiAgICAgICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNtb2RhbC1lcnJvcicpLnNob3coKS5maW5kKCdsYWJlbCcpLmh0bWwoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjcmVzb3VyY2VfZGlhbG9nJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgYWRtaW5fZmV0Y2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgY2JfYWRkX2VkaXRfbm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI3Jlc291cmNlX2RpYWxvZycpLm1vZGFsKHsnYmFja2Ryb3AnOiAnc3RhdGljJ30pO1xyXG4gICAgfTtcclxuICAgICQoJyNyZXNvdXJjZV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgc2hvd0NvbmZpcm1EaWFsb2coJ0FyZSB5b3Ugc3VyZSB0byBzYXZlPycsIGNiX2FkZF9lZGl0X3llcywgY2JfYWRkX2VkaXRfbm8pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbW9kYWxWYWxpZGF0ZSgpIHtcclxuICAgIHZhciB2aWRlbyA9ICQoJyNpcHRfdl91cmwnKS52YWwoKSwgaW1hZ2UgPSAkKCcjaXB0X2lfdXJsJykudmFsKCksIG5hbWUgPSAkKCcjaXB0X25hbWUnKS52YWwoKSwgZmxhZyA9IDE7XHJcbiAgICBpZiAodmlkZW8udHJpbSgpID09ICcnIHx8IHZpZGVvLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnJlc291cmNlLnZpZGVvTGluay5sZW5ndGgoKSkge1xyXG4gICAgICAgIHJldHVybiAnVmlkZW8gVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgaWYgKGltYWdlLnRyaW0oKSA9PSAnJyB8fCBpbWFnZS50cmltKCkubGVuZ3RoID4gbWliby5tb2RhbC5yZXNvdXJjZS5wb3N0ZXJMaW5rLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgcmV0dXJuICdQb3N0ZXIgVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UucG9zdGVyTGluay5sZW5ndGgoKSArICcuJztcclxuICAgIH1cclxuICAgIGlmIChuYW1lLnRyaW0oKSA9PSAnJyB8fCBuYW1lLnRyaW0oKS5sZW5ndGggPiBtaWJvLm1vZGFsLnJlc291cmNlLm5hbWUubGVuZ3RoKCkpIHtcclxuICAgICAgICByZXR1cm4gJ1ZpZGVvIG5hbWUgY2Fubm90IGJlIGVtcHR5LCBhbmQgdGhlIGxlbmd0aCBtdXN0IGxlc3MgdGhhbiAnICsgbWliby5tb2RhbC5yZXNvdXJjZS5uYW1lLmxlbmd0aCgpICsgJy4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vZGFsQ2hlY2tWaWRlbygpIHtcclxuICAgIHZhciB2aWRlbyA9ICQoJyNpcHRfdl91cmwnKS52YWwoKTtcclxuICAgIGlmICh2aWRlby50cmltKCkgPT0gJycgfHwgdmlkZW8udHJpbSgpLmxlbmd0aCA+IG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpKSB7XHJcbiAgICAgICAgbWliby51dGlsLnN5c3RlbS5lcnJvcignVmlkZW8gVVJMIGNhbm5vdCBiZSBlbXB0eSwgYW5kIHRoZSBsZW5ndGggbXVzdCBsZXNzIHRoYW4gJyArIG1pYm8ubW9kYWwucmVzb3VyY2UudmlkZW9MaW5rLmxlbmd0aCgpICsgJy4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayB2aWRlbyBVUkwgZXhpc3RlbmNlIHZpYSBhcGlcclxuICAgIG1pYm8udXRpbC5sb2FkaW5nLnNob3coKTtcclxuICAgIHZhciBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgIGRhdGEudG9rZW4gPSBkYXRhLnRva2VuIHx8IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS52aWRlb0xpbmsgPSAkKCcjaXB0X3ZfdXJsJykudmFsKCk7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZXhpc3QnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fdXNlcl9sb2dpbiA9IGFqcDtcclxuICAgIGFqcC5kb25lKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGFqWGhyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAkKCcjbW9kYWwtZXJyb3InKS5zaG93KCkuZmluZCgnbGFiZWwnKS5odG1sKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkYXRhLnJlc3BvbnNlLmRhdGEuZXhpc3QgPyAnVGhlIHZpZGVvIFVSTCBoYXMgZXhpc3RlZCwgcGxlYXNlIHRyeSBhbm90aGVyIG9uZS4nIDogJzxzcGFuIGNsYXNzPVwidGV4dC1zdWNjZXNzXCI+VGhlIHZpZGVvIFVSTCBkbyBOT1QgZXhpc3QsIGNhbiBjb250aW51ZSB0byBhZGQuPC9zcGFuPic7XHJcbiAgICAgICAgJCgnI21vZGFsLWVycm9yJykuc2hvdygpLmZpbmQoJ2xhYmVsJykuaHRtbChtZXNzYWdlKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBDb25maXJtIGRpYWxvZ1xyXG5mdW5jdGlvbiBzaG93Q29uZmlybURpYWxvZyhtZXNzYWdlLCBjYlllcywgY2JObykge1xyXG4gICAgJCgnI2NvbmZpcm1fZGlhbG9nJykubW9kYWwoeydiYWNrZHJvcCc6ICdzdGF0aWMnLCAnc2hvdyc6IGZhbHNlfSk7XHJcbiAgICAkKCcjY29uZmlybV9kaWFsb2cgLm1vZGFsLWJvZHkgbGFiZWwnKS5odG1sKG1lc3NhZ2UpO1xyXG4gICAgJCgnI2NvbmZpcm1feWVzJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKCcjY29uZmlybV9kaWFsb2cnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICQoJyNtb2RhbC1lcnJvcicpLmhpZGUoKTtcclxuICAgICAgICBjYlllcyAmJiBjYlllcygpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjY29uZmlybV9ubycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCgnI2NvbmZpcm1fZGlhbG9nJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICBjYk5vICYmIGNiTm8oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2NvbmZpcm1fZGlhbG9nJykub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNjb25maXJtX3llcycpLm9mZigpO1xyXG4gICAgICAgICQoJyNjb25maXJtX25vJykub2ZmKCk7XHJcbiAgICB9KS5tb2RhbCgnc2hvdycpO1xyXG59XHJcbiIsIi8vIEluaXRpYWxpemF0aW9uXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyNwYWdlJykudmFsKCkgIT0gJ2hvbWUnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cclxuICAgIGhvbWVfYXR0YWNoRXZlbnQoKTtcclxuICAgIGhvbWVfc2VhcmNoUmVzb3VyY2VzKHt9LCAnaF9uX3Rib2R5Jyk7XHJcbiAgICBob21lX3NlYXJjaFJlc291cmNlcyh7J29yZGVyJzondmlld3MnfSwgJ2hfdF90Ym9keScpO1xyXG59KTtcclxuXHJcbi8qXHJcbiAqIEhvbWUtQ29udGVudFxyXG4gKiAqL1xyXG5cclxuLy8gUmV0cmlldmUgcmVzb3VyY2VzIHZpYSBhcGlcclxuZnVuY3Rpb24gaG9tZV9zZWFyY2hSZXNvdXJjZXMoY3JpdGVyaWEsIGNvbnRhaW5lcklkKSB7XHJcbiAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS5vZmZzZXQgPSBjcml0ZXJpYS5vZmZzZXQgfHwgMDtcclxuICAgIGRhdGEubGltaXQgPSBjcml0ZXJpYS5saW1pdCB8fCAxMDtcclxuICAgIGRhdGEua2V5d29yZCA9IGNyaXRlcmlhLmtleXdvcmQgfHwgbnVsbDtcclxuICAgIGRhdGEub3JkZXIgPSBjcml0ZXJpYS5vcmRlciB8fCBudWxsO1xyXG4gICAgdmFyIGFqcCA9IG1pYm8udXRpbC5odHRwLnBvc3QobWliby5jb25maWcuQVBJICsgJ3Jlc291cmNlL2ZldGNoJywgZGF0YSk7XHJcbiAgICBtaWJvLnByb21pc2VxLmFkbWluX3Jlc291cmNlX2ZldGNoID0gYWpwO1xyXG4gICAgYWpwLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgYWpYaHIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xyXG4gICAgICAgIC8vIENvbnN0cnVjdCByZXNvdXJjZSB0Ym9keVxyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgbWliby51dGlsLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKGRhdGEucmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc291cmNlVEJvZHkgPSAkKCcjJyArIGNvbnRhaW5lcklkKS5lbXB0eSgpLCBodG1sO1xyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoJzx0cj48dGQ+PHA+VGhlcmUgaXMgbm8gcmVzdWx0IGJhc2VkIG9uIHlvdXIgc2VhcmNoIGtleXdvcmQuLi48L3A+PC90ZD48L3RyPicpLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhLnJlc3BvbnNlLmRhdGEucm93cykge1xyXG4gICAgICAgICAgICBodG1sID0gW107XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyIGlkPVwiJywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2lkJ10sICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLWltZ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpbWcgY2xhc3M9XCJpbWctaWNvblwiIHNyYz1cIicsIGRlY29kZVVSSUNvbXBvbmVudChkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncG9zdGVyX2xpbmsnXSksICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtYXV0aG9yXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnbmFtZSddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxwIGNsYXNzPVwidGQtcm93XCI+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2F1dGhvciddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC10aW1lXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncHJvZHVjZV90aW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCAnPGkgY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JywgbWliby51dGlsLmZvcm1hdC5udW1iZXIya3ZpZXcoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3ZpZXdzJ10pLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydkZXNjcmlwdGlvbiddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpO1xyXG4gICAgICAgICAgICAkKGh0bWwuam9pbignJykpLmRhdGEoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF0pLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBob21lX2F0dGFjaFJlc291cmNlRXZlbnQoKTtcclxuICAgICAgICAvLyBTdGlreSBmb290ZXJcclxuICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgIG1pYm8udXRpbC5sb2FkaW5nLmhpZGUoKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBob21lX2F0dGFjaFJlc291cmNlRXZlbnQoKSB7XHJcbiAgICAkKCcjaF9uX3Rib2R5IHRyLCAjaF90X3Rib2R5IHRyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoKSwgdXJsID0gJy9wbGF5JztcclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaG9tZV9hdHRhY2hFdmVudCgpIHtcclxuICAgIC8vIFZpZXcgbW9yZSBsaW5rXHJcbiAgICAkKCcjYnRuX21vcmVfbmV3X3BjLCAjYnRuX21vcmVfbmV3X21iLCAjYnRuX21vcmVfdG9wX3BjLCAjYnRuX21vcmVfdG9wX21iJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHt9LCB1cmwgPSAnL3NlYXJjaCc7XHJcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cigndHlwZScpID09ICd0b3AnKSB7XHJcbiAgICAgICAgICAgIGRhdGEub3JkZXIgPSAndmlld3MnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufSIsIi8vIEluaXRpYWxpemF0aW9uXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQoJyNwYWdlJykudmFsKCkgIT0gJ3NlYXJjaCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBJbml0aWFsaXphdGlvblxyXG4gICAgc2VhcmNoX2F0dGFjaEV2ZW50KCk7XHJcbiAgICBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzKCk7XHJcbn0pO1xyXG5cclxuLypcclxuICogQWRtaW4tQ29udGVudFxyXG4gKiAqL1xyXG52YXIgcGFnZXIgPSBtaWJvLnV0aWwucGFnZXIoKTtcclxuXHJcbi8vIFJldHJpZXZlIHJlc291cmNlcyB2aWEgYXBpXHJcbmZ1bmN0aW9uIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKSB7XHJcbiAgICBtaWJvLnV0aWwubG9hZGluZy5zaG93KCk7XHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZGF0YS50b2tlbiA9IG1pYm8uY29uZmlnLlRPS0VOO1xyXG4gICAgZGF0YS5vZmZzZXQgPSBwYWdlci5nZXRJdGVtU3RhcnQoKTtcclxuICAgIGRhdGEubGltaXQgPSBwYWdlci5nZXRJdGVtQ291bnQoKTtcclxuICAgIHZhciBzdGFydFRpbWUgPSAkKCcjc3RhcnRUaW1lJykudmFsKCksIGVuZFRpbWUgPSAkKCcjZW5kVGltZScpLnZhbCgpLFxyXG4gICAgICAgIGtleXdvcmQgPSAkKCcja2V5d29yZCcpLnZhbCgpLCBvcmRlciA9ICQoJyNvcmRlcicpLnZhbCgpO1xyXG4gICAgc3RhcnRUaW1lICYmIChkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZSk7XHJcbiAgICBlbmRUaW1lICYmIChkYXRhLmVuZFRpbWUgPSBlbmRUaW1lKTtcclxuICAgIGtleXdvcmQgJiYgKGRhdGEua2V5d29yZCA9IGtleXdvcmQpO1xyXG4gICAgb3JkZXIgJiYgKGRhdGEub3JkZXIgPSBvcmRlcik7XHJcbiAgICB2YXIgYWpwID0gbWliby51dGlsLmh0dHAucG9zdChtaWJvLmNvbmZpZy5BUEkgKyAncmVzb3VyY2UvZmV0Y2gnLCBkYXRhKTtcclxuICAgIG1pYm8ucHJvbWlzZXEuYWRtaW5fcmVzb3VyY2VfZmV0Y2ggPSBhanA7XHJcbiAgICBhanAuZG9uZShmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBhalhocikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHJlc291cmNlIHRib2R5XHJcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2Uuc3RhdHVzICE9ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoZGF0YS5yZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzb3VyY2VUQm9keSA9ICQoJyNyZXN1bHRfdGJvZHknKS5lbXB0eSgpLCBodG1sO1xyXG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLmRhdGEudG90YWxSb3dDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoJzx0cj48dGQ+PHA+VGhlcmUgaXMgbm8gcmVzdWx0IGJhc2VkIG9uIHlvdXIgc2VhcmNoIGtleXdvcmQuLi48L3A+PC90ZD48L3RyPicpLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgICAgICBzdGlreUZvb3RlcigpO1xyXG4gICAgICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhLnJlc3BvbnNlLmRhdGEucm93cykge1xyXG4gICAgICAgICAgICBodG1sID0gW107XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyIGlkPVwiJywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2lkJ10sICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8dGQgY2xhc3M9XCJ0YmwtY29sLWltZ1wiPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxpbWcgY2xhc3M9XCJpbWctaWNvblwiIHNyYz1cIicsIGRlY29kZVVSSUNvbXBvbmVudChkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncG9zdGVyX2xpbmsnXSksICdcIj4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RkPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cInRibC1jb2wtYXV0aG9yXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsnbmFtZSddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzxwIGNsYXNzPVwidGQtcm93XCI+JywgZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ2F1dGhvciddLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwidGJsLWNvbC10aW1lXCI+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCBkYXRhLnJlc3BvbnNlLmRhdGEucm93c1twXVsncHJvZHVjZV90aW1lJ10sICc8L3A+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHAgY2xhc3M9XCJ0ZC1yb3dcIj4nLCAnPGkgY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JywgbWliby51dGlsLmZvcm1hdC5udW1iZXIya3ZpZXcoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF1bJ3ZpZXdzJ10pLCAnPC9wPicpO1xyXG4gICAgICAgICAgICBodG1sLnB1c2goJzwvdGQ+Jyk7XHJcbiAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkPicsIGRhdGEucmVzcG9uc2UuZGF0YS5yb3dzW3BdWydkZXNjcmlwdGlvbiddLCAnPC90ZD4nKTtcclxuICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpO1xyXG4gICAgICAgICAgICAkKGh0bWwuam9pbignJykpLmRhdGEoZGF0YS5yZXNwb25zZS5kYXRhLnJvd3NbcF0pLmFwcGVuZFRvKHJlc291cmNlVEJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWFyY2hfYXR0YWNoUmVzb3VyY2VFdmVudCgpO1xyXG4gICAgICAgIC8vIFBhZ2luYXRpb24gcmUtc2V0dGluZ3NcclxuICAgICAgICBwYWdlci5zZXRUb3RhbEl0ZW0oZGF0YS5yZXNwb25zZS5kYXRhLnRvdGFsUm93Q291bnQpO1xyXG4gICAgICAgICQoJyNwYWdlX3RvdGFsJykuaHRtbChwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgJCgnI3BhZ2VfbnVtYmVyJykudmFsKCcnKTtcclxuICAgICAgICAkKCcjcGFnZV9hY3RpdmUnKS5odG1sKHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgaWYgKHBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfcHJldmlvdXMnKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAkKCcjcGFnZV9wcmV2aW91cycpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICEkKCcjcGFnZV9wcmV2aW91cycpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX3ByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWdlci5pc0xhc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAhJCgnI3BhZ2VfbmV4dCcpLmhhc0NsYXNzKCdkaXNhYmxlZCcpIHx8ICQoJyNwYWdlX25leHQnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3Rpa3kgZm9vdGVyXHJcbiAgICAgICAgc3Rpa3lGb290ZXIoKTtcclxuICAgICAgICBtaWJvLnV0aWwubG9hZGluZy5oaWRlKCk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWJvLnV0aWwuc3lzdGVtLmVycm9yKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoX2F0dGFjaFJlc291cmNlRXZlbnQoKSB7XHJcbiAgICAkKCcjcmVzdWx0X3Rib2R5IHRyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoKSwgdXJsID0gJy9wbGF5JztcclxuICAgICAgICBtaWJvLnV0aWwuZm9ybS5wb3N0KHVybCwgZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoX2F0dGFjaEV2ZW50KCkge1xyXG4gICAgLy8gUGFnaW5hdGlvbiBidXR0b25zXHJcbiAgICAkKCcjcGFnZV9wcmV2aW91cyBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzRmlyc3RQYWdlKCkpIHtcclxuICAgICAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlci5nZXRQYWdlKCkgLSAxKTtcclxuICAgICAgICAgICAgc2VhcmNoX3NlYXJjaFJlc291cmNlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI3BhZ2VfbmV4dCBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIXBhZ2VyLmlzTGFzdFBhZ2UoKSkge1xyXG4gICAgICAgICAgICBwYWdlci5zZXRQYWdlKHBhZ2VyLmdldFBhZ2UoKSArIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGFyZ2V0IHBhZ2U6ICcsIHBhZ2VyLmdldFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIHNlYXJjaF9zZWFyY2hSZXNvdXJjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJyNwYWdlX2dvJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcGFnZU51bWJlciA9IH5+JCgnI3BhZ2VfbnVtYmVyJykudmFsKCk7XHJcbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgID09IDAgfHwgcGFnZU51bWJlciA+IHBhZ2VyLmdldFRvdGFsUGFnZSgpKSB7XHJcbiAgICAgICAgICAgIG1pYm8udXRpbC5zeXN0ZW0uZXJyb3IoJ1BsZWFzZSBpbnB1dCBhbiBwYWdlIG51bWJlciBiZXR3ZWVuIDEgYW5kICcgKyBwYWdlci5nZXRUb3RhbFBhZ2UoKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFnZXIuc2V0UGFnZShwYWdlTnVtYmVyKTtcclxuICAgICAgICBzZWFyY2hfc2VhcmNoUmVzb3VyY2VzKCk7XHJcbiAgICB9KTtcclxufSJdfQ==
